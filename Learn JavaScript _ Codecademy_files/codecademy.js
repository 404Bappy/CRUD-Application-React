(function(){try{
(()=>{var Lp=Object.defineProperty;var Dp=(e,t,o)=>t in e?Lp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var Po=(e,t,o)=>(Dp(e,typeof t!="symbol"?t+"":t,o),o);var l={apps:[{active:!0,app:"TARGET",platforms:[{platform:"FACEBOOK_ADS"}]}],bundles:[{name:"codecademy"}],config:{events:{purchase:{fbEventsToIntercept:[{event:"StartTrial"}]}},spa:{refresh:{delay:1e3,enabled:!0}},visitor:{id_name:"_bcai_i",id_source:"cookie",set_info:!0}},facebookAccounts:[{advancedMatching:!0,pixelId:"1036078779778355"}],name:"CODECADEMY",pages:[{ignored:!1,log_purchase:!1,pageName:"checkout",pattern:"/checkout/?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"confirmation",pattern:"/confirm/?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"courses.lessons.exercises.javascript",pattern:"/courses/.*javascript.*lessons/.*exercises/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"courses.lessons.exercises.react",pattern:"/courses/.*react.*lessons/.*exercises/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"courses.lessons.exercises.python",pattern:"/courses/.*python.*lessons/.*exercises/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"courses.lessons.exercises.java",pattern:"/courses/.*java.*lessons/.*exercises/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"courses.lessons.exercises.c-plus-plus",pattern:"/courses/.*c-plus-plus.*lessons/.*exercises/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"courses.lessons.exercises.other",pattern:"/courses/.*lessons/.*exercises/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"courses.lessons.other",pattern:"/courses/.*lessons/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"courses.other",pattern:"/courses/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"catalog.language.details",pattern:"/catalog/language/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"catalog",pattern:"/catalog.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"learn.paths",pattern:"/learn/paths/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"learn.learn-python-3",pattern:"/learn/learn-python-3/?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"learn",pattern:"/learn.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"paths.tracks",pattern:"/paths/.*/tracks.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"resources",pattern:"/resources.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"explore.sorting-quiz",pattern:"/explore/sorting-quiz/?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"career-journey",pattern:"/career-journey/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"account",pattern:"/account/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"article",pattern:"/article/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"forum_questions",pattern:"/forum_questions/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"profiles.details",pattern:"/profiles/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"journeys.details",pattern:"/journeys/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"search",pattern:"/search/?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"login",pattern:"/login/?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"home",pattern:"^https?:\\/\\/([a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?\\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9]\\/?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"other"}]};var c=window.IntentProperties?window.IntentProperties.namespace||"intent":"blackcrow",i=window.blackcrow||window.intent||{},d=[];Array.isArray(i)&&(d=i,i={});i.BUNDLE_NAME="codecademy.js";i.BUILD_NUMBER="13621";i.TAG_SRC=window.blackcrowTagSrc||"JS";window.blackcrow=i;window.intent=i;var p=i.SITE_NAME||"codecademy",Gr="init.blackcrow.ai";document.currentScript&&document.currentScript instanceof HTMLElement?Gr=document.currentScript.src.split("/")[2]:i.TAG_SRC==="ShopifyAppExtension"&&(Gr="shopify-init.blackcrow.ai");var m="https://"+Gr+"/";var rs=`
`;function K(e,t){if(typeof e=="string"){let o=e.split(rs);return o.splice(1,t),o.join(rs)}return""}function Wr(){return i.TAG_SRC||"JS"}function w(){return Wr()==="ShopifyAppExtension"}function U(e,t,o,r){function n(a){typeof r=="function"&&r(a)}try{fetch(e,t).then(a=>{if(a.ok)typeof o=="function"&&o(a);else if(t?.mode!=="no-cors"){let u=`${a.status} ${a.statusText}`;try{a.json().then(f=>{let s=f.errors[0];u=`${s.error_type}: ${s.error_message}`,n(new Error(u))}).catch(()=>{n(new Error(u))})}catch{n(new Error(u))}}}).catch(n)}catch(a){n(a)}}function Bp(){try{return window.location!==window.top.location}catch{return!0}}function Hr(){return w()?window.location.hostname:window.top.location.hostname}function ns(){return w()?window.location:Bp()?window.top.location:window.location}function Y(){return ns()?.pathname}function b(){return ns().href}function te(){return window?.navigator?.userAgent}function Qe(e){return performance&&typeof performance.getEntriesByType=="function"&&performance.getEntriesByType(e)||[]}function To(){return performance&&typeof performance.now=="function"&&performance.now()||0}function Ze(e,t){let o=globalThis.browser;if(w()&&o){U(e,{method:"POST",keepalive:!0,mode:"no-cors",body:t},()=>{},r=>{i.error(r)});return}window?.navigator?.sendBeacon(e,t)}var $p=["clicktripz","example","partner"],Mp=[".shopifypreview.","localhost.","demo.","staging.","development-","development."],Up=["localhost","127.0.0.1"];function Vp(){let e=Hr();return e===""||Up.includes(e)}function qp(){let e=Hr(),t=!1;return Mp.forEach(o=>{e.indexOf(o)!==-1&&(t=!0)}),t}function qe(e){return $p.indexOf(e.toLowerCase())!==-1||Vp()||qp()}function z(e,t={},o="info"){if(qe(p))return;let r="https://monitor-api.blackcrow.ai/",n=!1,a=parseInt("13621",10)||0,u=JSON.stringify({message:e,status:o,service:"javascript-api",version:a,ddsource:"browser",ddtags:`env:${n?"dev":"production"},version:${a}`,"logger.name":"monitor-api","http.useragent":te(),"view.site":p,...t});Ze(r,u)}function is(e){let t=Math.random();(e.overrideSampling||t>=.3&&t<.4)&&z(e.message,{status:e.status||"error","error.kind":e.name,"error.message":e.message,"error.stack":e.stack,"view.url":b(),"view.referrer":document.referrer})}function Gp(e){if(typeof e.stack=="string"&&e.stack)return e.stack;try{throw e}catch(t){return K(t.stack,2)}}function Wp(e){let t=!0;return e.skipNotify&&(t=!1),e.message.indexOf("com.gargoylesoftware.htmlunit")!==-1&&(t=!1),t}function Hp(e,t){let r=`BlackCrow${t?` ${t}`:""} ${e.stack}`;globalThis.console&&(globalThis.console.error?globalThis.console.error(r):globalThis.console.log(r))}function ko(e,t={}){if(!e)return;try{e.stack=Gp(e)}catch{}!1&&Hp(e,t.appName),Wp(e)&&typeof ko.sendErrorToServer=="function"&&ko.sendErrorToServer(e)}ko.sendErrorToServer=is;i.error=ko;function Co(e,t){let o=document.createElement("link");o.rel=t,o.href=e,document.head.appendChild(o)}i.TAG_SRC!=="ShopifyAppExtension"&&!window.blackcrowpreconnected&&(Co("https://api.blackcrow.ai/","preconnect"),Co("https://api.blackcrow.ai/","dns-prefetch"),Co(m,"preconnect"),Co(m,"dns-prefetch"),window.blackcrowpreconnected=1);function v(e,t,o){if(e)if(typeof e.length<"u"){for(let r=0,n=e.length;r<n;r+=1)if(t.call(o,e[r],r,e)===!1)return}else{let r=Object.keys(e);for(let n=0,a=r.length;n<a;n+=1)if(t.call(o,e[r[n]],r[n],e)===!1)return}}var jp="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var as=(e=21)=>{let t="",o=e;for(;o--;)t+=jp[Math.random()*64|0];return t};var ss=as;function A(e,t){if(w())return window.blackcrow.cookie.get(e);t=t||document.cookie;let o={};return v(t.split(/\s?;\s?/),r=>{let n=r.split(/\s?=\s?/);o[n.shift().trim()]=n.join("=").trim()}),o[e]}async function cs(e,t){try{return w()?await globalThis.browser.cookie.get(e):A(e,t)}catch{}return null}var jr="_bcai_h",Ut="_bcai_i",Kr="_bcai_e",fs="_bcai_t",us="_bcai_up",Jr="_bcai_vn",Yr="_bcai_vs",No="_bcai_v",Vt="_bcai_pu",Xr="_bcai_lpv",zr="_bcai_spv",Oo="_bcai_em",Qr="_bcai_fn",Zr="_bcai_ln",Ro="_bcai_ph",ps="_bcai_koc",ms="_bcai_khs",ds="_bcai_kps",ls="_bcai_pwo_ebc",qt="_bcai_isn",en="_bcai_fcpes",tn="_bcai_ca",on="_bcai_ebc",gs="_bcai_nfs",Lo="_bcai_li",_s="fbclid",Do="_fbc",et="_fbp",Fo="__kla_id";var Gt;function rn(){if(Gt)return Gt;let e=document.location.hostname.split("."),t,o,r=e.length;if(r===1)Gt="";else{for(t=`${fs}${new Date().valueOf()}`;r>2&&(r-=1,o=e.slice(1).join("."),document.cookie=`${t}=${t}; domain=${o}`,t=A(t),document.cookie=`${t}=1; expires=Thu, 01 Jan 1970 00:00:00 GMT; domain=${o}`,!!t);)e.shift();Gt=e.join(".")}return Gt}function V(e,t,o){try{let r;if(o){let a=new Date;a.setTime(a.getTime()+o*60*1e3),r=`;expires=${a.toUTCString()}`}else r="";let n=`${e}=${t}${r};domain=${rn()};path=/`;w()?(browser.cookie.set(n),window.blackcrow.cookie.set(e,t)):document.cookie=n}catch{}}var ft;function Ge(){return ft||(ft=A(Ut),ft||(ft=ss(),V(Ut,ft,1051200)),ft)}function Kp(e,t){var o,r,n,a,u,f,s,g,_,E;for(o=e.length&3,r=e.length-o,n=t,u=3432918353,s=461845907,E=0;E<r;)_=e.charCodeAt(E)&255|(e.charCodeAt(++E)&255)<<8|(e.charCodeAt(++E)&255)<<16|(e.charCodeAt(++E)&255)<<24,++E,_=(_&65535)*u+(((_>>>16)*u&65535)<<16)&4294967295,_=_<<15|_>>>17,_=(_&65535)*s+(((_>>>16)*s&65535)<<16)&4294967295,n^=_,n=n<<13|n>>>19,a=(n&65535)*5+(((n>>>16)*5&65535)<<16)&4294967295,n=(a&65535)+27492+(((a>>>16)+58964&65535)<<16);switch(_=0,o){case 3:_^=(e.charCodeAt(E+2)&255)<<16;case 2:_^=(e.charCodeAt(E+1)&255)<<8;case 1:_^=e.charCodeAt(E)&255,_=(_&65535)*u+(((_>>>16)*u&65535)<<16)&4294967295,_=_<<15|_>>>17,_=(_&65535)*s+(((_>>>16)*s&65535)<<16)&4294967295,n^=_}return n^=e.length,n^=n>>>16,n=(n&65535)*2246822507+(((n>>>16)*2246822507&65535)<<16)&4294967295,n^=n>>>13,n=(n&65535)*3266489909+(((n>>>16)*3266489909&65535)<<16)&4294967295,n^=n>>>16,n>>>0}var Jp=4294967295,Yp=108;function nn(e){return Kp(e||"",Yp)/Jp}function G(e={}){let t=Ge(),o=e.name||"",{force:r,allocations:n}=e,a=nn(`${t}${o}`);if(r)return n.find(g=>g.name===r)?.value;let u=0,f=[];v(e.allocations,g=>{if(f.push({min:u,max:u+g.percent,value:g.value}),u+=g.percent,u>1)throw new Error("Bucket allocation exceeds 100%")});let s;return v(f,g=>a>=g.min&&a<g.max?(s=g.value,!1):!0),s}function ce(){return document.referrer}function At(){return document.title}function Xp(e,t){let o=t.split("[");return o.length>1?e&&e[o[0]]&&e[o[0]][parseInt(o[1],10)]:e&&e[t]}function S(e,t){if(!(!e||!t||typeof t!="string"))return t.split(".").reduce(Xp,e)}function ut(e,t,o,r,n){!e||!t||typeof t!="string"||(t.indexOf(".")!==-1?(t=t.split("."),ut(e,t.shift(),o,t,n)):!r||r.length===0?(!n||!Object.prototype.hasOwnProperty.call(e,t))&&(e[t]=o):((!n||!Object.prototype.hasOwnProperty.call(e,t))&&(e[t]=e[t]||{}),ut(e[t],r.shift(),o,r,n)))}i.storage=i.storage||{};function zp(e,t){let o=i.storage[e].audience;typeof o=="object"&&t?.audience===!1?i.storage[e]={audience:o}:i.storage[e]={}}function Z(e){e&&(i.storage[e]=i.storage[e]||{});function t(){return i.storage[e]}return{clear:o=>{e==="bound_events"&&o?zp(e,o):i.storage[e]={}},getAll:()=>t()||{},get:o=>S(t(),o),set:(o,r)=>{let n=t();typeof o=="string"?ut(n,o,r):v(o,(a,u)=>{ut(n,u,a)})},push:(o,r)=>{let n=t(),a=S(n,o);Array.isArray(a)?a.push(r):ut(n,o,[r])}}}var hs=Z("page"),ys="history";function Qp(e,t){return typeof t=="function"?t.toString().replace(/\s+/g," "):t}function Es(){return console.group(`${c} history`),v(hs.get(ys),e=>{console.groupCollapsed(e.name),console.log("data",JSON.stringify(e.data,Qp,4)),console.log(e.source),console.groupEnd()}),console.groupEnd(),""}function X(e,t){let o=new Error("");o.name="source",o.stack=K(o.stack,1),hs.push(ys,{name:e,data:t,source:o})}var Zp=Object.prototype.toString,an=Array.prototype.slice;function I(e,...t){return e=e||{},v(t,o=>{v(o,(r,n)=>{let a=Zp.call(r).split(" ").pop();if(a!=="Undefined]"){if(!r||r===r.window||r.nodeType||r._isVue){e[n]=r;return}if(a==="Object]"){e[n]=e[n]||{},I(e[n],r);return}if(a==="Array]"){e[n]=e[n]||[],e[n]=an.call(e[n]).concat(r);return}if(a==="NodeList]"||a==="HTMLCollection]"){e[n]=e[n]||[],e[n]=an.call(e[n]).concat(an.call(r));return}e[n]=r}})},this),e}window.blackcrow.pushedData=window.blackcrow.pushedData||{};function sn(){let e=window.blackcrow.pushedData;e&&e.winLocation!==b()&&(window.blackcrow.pushedData={})}function Bo(e){I(window.blackcrow.pushedData,e,{winLocation:b()})}function $o(e){window.blackcrow.pushedData={...e,winLocation:b()}}function k(e){return S(window.blackcrow.pushedData,e)}var cn=Z("events_api_response"),fn=Z("api_config");function bt(e){let t=new Error(e);return t.name="SequencingError",t.status="warn",t.stack=K(t.stack,1),t}var ws=!1,vs=!1;function Ss(e,t){if(e){let o=t.get(`data.${e}`);if(typeof o=="string"){let r=o.toLowerCase();return r==="off"||r==="false"?!1:o}return o}return t.get("data")}function un(e){fn.set("data",e),vs=!0}function D(e){return vs===!1&&i.error(new bt("Attempting to access apiConfig before it has been set!")),Ss(e,fn)}function Wt(e){cn.set("data",e),ws=!0}function pn(e){return ws===!1&&i.error(new bt("Attempting to access events api response before it has been set!")),Ss(e,cn)}function mn(){return!!pn("history_id")}function em(e){let t=new Error(e);return t.name="URIDecodingError",t.status="warn",t.stack=K(t.stack,1),t}function Ae(e){let t={};if(typeof e=="string"&&e.length){let o=e.split("?");o.shift(),o=o.join("?"),o=o.split("#")[0],v(o.split("&"),r=>{let n=r;try{n=decodeURIComponent(n)}catch{i.error(new em(`Unable to decode URI component: ${n}`))}let a=n.indexOf("="),u=a>0?[n.slice(0,a),n.slice(a+1)]:[n];typeof u[1]<"u"&&(t[u[0]]=u[1])})}return t}function W(e,t){let o=t?Ae(t):Ae(b()),r=Object.keys(o).find(n=>n?.toLowerCase()===e?.toLowerCase());return o[r]}var Is="config.visitor.query_string";function tm(e){let t=e?S(e,Is):D(Is);return t?{param:t.param,separator:t.separator,index:t.index}:{}}function om(e){let t=e.param;if(t)return W(t)}function rm(e,t){let o=t.separator,r=t.index;return o&&r?e.split(o)[r]||void 0:e}function As(e){let t=tm(e),o=om(t);if(o)return rm(o,t)}var dn,ln;function nm(){let e,t=window.GoogleAnalyticsObject?window[window.GoogleAnalyticsObject]:window.ga;return t&&typeof t.getAll=="function"&&v(t.getAll(),o=>{try{let r=o.get("clientId");if(r)return e=r,!1}catch{}}),e}function im(){if(typeof ln<"u")return ln;let e,t=A("_ga");if(t){let o=t.split(".");o.shift(),o.shift(),e=o.join(".")}return ln=e,e}function tt(e){if(dn)return dn;let t=k("google_id")||As(e)||window.gaGlobal&&window.gaGlobal.vid||nm()||im();return dn=t,t}var bs="blackcrow",xs="cookie",Ps="global",Ts="google",gn="pushed_data";var pt,be=bs.toUpperCase(),xe=No,Mo=!1;function ks(e,t,o){V(No,e,1051200),V(Yr,t,1051200),V(Jr,o,1051200)}function xt(){if(pt)return{id:pt,source:be,name:xe,fallback:Mo};if(pt=A(No),pt)return be=A(Yr)||be,xe=A(Jr)||xe,ks(pt,be,xe),{id:pt,source:be,name:xe,fallback:Mo};let e=D("config.visitor.id_source"),t=D("config.visitor.id_name"),o=k("visitor_id");if(o&&(be=gn.toUpperCase(),xe="visitor_id"),e===xs){let r=A(t);r&&(o=r,be=e.toUpperCase(),xe=t)}else if(e===Ps){let r=S(window,t);r&&(o=r,be=e.toUpperCase(),xe=t)}else if(e===gn){let r=k(t);r&&(o=r,be=e.toUpperCase(),xe=t)}else if(e===Ts){let r=tt();r&&(o=r,be=e.toUpperCase(),xe=t)}return o||(o=Ge(),Mo=!0),pt=o,ks(o,be,xe),{id:o,source:be,name:xe,fallback:Mo}}function am(e){(e.overrideSampling||G({name:"error_sampling",allocations:[{percent:.1,value:!0}]}))&&z(e.message,{status:e.status||"error","error.kind":e.name,"error.message":e.message,"error.stack":e.stack,"usr.id":xt().id,"view.url":k("page_url")||b(),"view.referrer":k("page_referrer_url")||ce()}),X(e.name,e)}function Cs(){i.error.sendErrorToServer=am}function sm(e){let t={name:"other",major:0,minor:0};if(/googlebot/.test(e)||/adsbot/.test(e)||/bingbot/.test(e)||/bingpreview/.test(e)||/slurp/.test(e)||/storebot/.test(e)||/spider/.test(e)||/crawler/.test(e)||/yandexbot/.test(e)||/ptst[ \/]/.test(e)||/externalhit/.test(e))return t.name="bot",t;let r=/(msie) ([\w.]+)/.exec(e)||/(ucbrowser)[ \/]([\w.]+)/.exec(e)||/(miuibrowser)[ \/]([\w.]+)/.exec(e)||/(opera mini)[ \/]([\w.]+)/.exec(e)||/(opr)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(e)||/(firefox)[ \/]([\w.]+)/.exec(e)||/(trident)(?:.*? rv:([\w.]+))?/.exec(e)||/(edg)[ \/]([\w.]+)/.exec(e)||/(edge)[ \/]([\w.]+)/.exec(e);if(r){r[1]==="opr"?r[1]="opera":r[1]==="trident"?r[1]="msie":r[1]==="edg"&&(r[1]="edge"),t.name=r[1].replace(/\s+/,"");let n=(r[2]||"").split(/\.|-|_/);t.major=parseInt(n[0],10)||0,t.minor=parseInt(n[1],10)||0}return t}function cm(e){return!!(e.match(/ipad/)||e.match(/android/)&&!e.match(/mobi|mini|fennec/)||e.match(/macintosh/)&&window.navigator.maxTouchPoints>1)}function fm(e){return!!e.match(/ip(hone|od)|android.+mobile|windows (ce|phone)|blackberry|bb10|symbian|webos|firefox.+fennec|opera m(ob|in)i|tizen.+mobile|polaris|iemobile|lgtelecom|nokia|sonyericsson|dolfin|uzard|natebrowser|ktf;|skt;/)}function um(e){return fm(e)?"mobile":cm(e)?"tablet":"desktop"}function mt(e){e=e||"";let t=e.toLowerCase();return{browser:sm(t),deviceType:um(t)}}function Be(e){let t=new Error(e);return t.name="NotSupportedError",t.status="warn",t.stack=K(t.stack,1),t}function pm(){try{return!new Error("")}catch(e){return e}}function mm(){let e=pm();if(e)throw e.name="NotSupportedError",e.status="warn",e.message="Missing feature: errorConstructor",e}function dm(){let{browser:e}=mt(te());if(typeof e=="object"){let t=e.name,o=e.major;if(t==="bot"||t==="msie"||t==="edge"&&o<15||t==="firefox"&&o<54||t==="chrome"&&o<42||t==="safari"&&o<10||t==="ucbrowser"||t==="miuibrowser"||t==="opera"&&o<38||t==="operamini")return!1}return!0}function lm(e){let t=e?.config?.loadBundleWithShopifyWebPixel??!0;return w()?t:!0}function _n(e,t){if(!dm())throw new Be("Browser not supported");lm(e)&&(mm(),t())}function Ht(e,t,o){if(e){let n=(e.options||{}).origEvent||{};if(clearTimeout(n.timeout),typeof e.callback=="function"&&!n.timeoutReached){try{e.callback(t)}catch(a){i.error(a)}typeof o=="function"&&o()}}}var gm=Z("bound_events"),_m=Z("triggered_events");function P(e,t,o,r={}){let n={appName:e,eventName:t,callback:o,options:r};gm.push(`${e}.${t}`,n),v(_m.get(`${e}.${t}`),a=>{Ht(n,a.data,a.onExec)})}function pe(e,t){let o=new Error(e);return o.name=`${t||""}RequestError`,o.skipNotify=!0,o.stack=K(o.stack,1),o}function Uo(e,t,o){return function(...n){try{return e.apply({},n)}catch(a){o&&o.interval&&clearInterval(o.interval),i.error(a,{appName:t})}}}function hm(e,t,...o){let r={},n=setInterval.apply(globalThis,[Uo(e,this.appName,r),t].concat(o));return r.interval=n,n}function ym(e,t,...o){return setTimeout.apply(globalThis,[Uo(e,this.appName),t].concat(o))}function Em(e,t,o,r){let n=o.wrapped||Uo(o,this.appName);o.wrapped=n,e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent(t,n)}function wm(e,t,o,r){o?e.removeEventListener(t,o.wrapped,r):e.removeEventListener(t)}var h={fn:Uo,addListener:Em,removeListener:wm,setInterval:hm,setTimeout:ym};function q(e,t,o,r){function n(f){let s=new pe(f.message,t.servletName);i.error(s,{customDimensions:{url:e}}),typeof r=="function"&&h.fn(r)(s)}function a(f){if(typeof f!="object"){n(new Error("JSON is not an object"));return}typeof o=="function"&&h.fn(o)(f||{})}function u(f){f.json().then(h.fn(a)).catch(s=>{n(new Error(`Invalid JSON ${s.message}`))})}U(e,t,u,n)}function hn(){let e=Math.round(To());if(!e||e<1)return"0";if(e<10)return"10";let t="0";return v(`${e}`,(o,r)=>{r===0?t=o:t+="0"}),t}var Vo=document.documentElement,Ns=window.screen,yn=Math.max;function Os(){let e=window?.innerHeight+window?.scrollY||0;return yn(Vo?.offsetHeight,Vo?.scrollHeight,e)}function Rs(){return w()?window.outerHeight:Ns?.height}function Ls(){return w()?window.outerWidth:Ns?.width}function dt(){return yn(window.pageYOffset,Vo?.scrollTop)}function Ds(){return yn(Vo?.clientWidth,window.innerWidth)}async function Ee(e){try{let t=w()?await globalThis.browser.localStorage.get(e):window.localStorage.getItem(e);return JSON.parse(t)}catch{}return null}function qo(e){try{let t=w()?window.blackcrow.localStorage.get(e):window.localStorage.getItem(e);return JSON.parse(t)}catch{}return null}async function oe(e){try{if(w()){let t=await globalThis.browser.sessionStorage.getItem(e);return JSON.parse(t)}return JSON.parse(window.sessionStorage.getItem(e))}catch{}return null}var En,wn;function vm(){if(typeof wn<"u")return wn;let e,t=A(et);if(t){let o=t.split(".");o.shift(),o.shift(),e=o.join(".")}return wn=e,e}function Fs(){if(En)return En;let e=k("facebook_id")||vm();return En=e,e}var vn;function Sm(){let e=S(window,"Shopify.checkout.customer_id")||S(window,"ShopifyAnalytics.meta.page.customerId")||S(window,"__st.cid");if(e)return e.toString()}function Bs(){if(vn)return vn;let e=Sm();return vn=e,e}var Sn;function Im(){try{return JSON.parse(window.atob(A(Fo))).$exchange_id}catch{return}}function lt(){if(Sn)return Sn;let e=Im();return Sn=e,e}function $s(){return window?.ju_config?.ju_vid}function Ms(){return window?.bouncex?.cookie?.hardID}function Us(){return window?.bouncex?.cookie?.softID}function Vs(){return window?.edgemesh?.id}function me(e,t){try{t&&(w()?(window.blackcrow.localStorage.set(e,JSON.stringify(t)),browser.localStorage.setItem(e,JSON.stringify(t))):window.localStorage.setItem(e,JSON.stringify(t)))}catch{}}function ot(e){return`${Math.random().toString(36).substring(2,3)}${btoa(e)}`}function gt(e){return e?atob(e.substring(1)):void 0}function jt(e){try{return document.querySelectorAll(`:is(${e})`)}catch{}try{return document.querySelectorAll(`:matches(${e})`)}catch{}try{return document.querySelectorAll(`:-webkit-any(${e})`)}catch{}try{return document.querySelectorAll(`:-moz-any(${e})`)}catch{return[]}}function qs(e){h.addListener(window,"message",t=>{if(t.origin&&t.origin.indexOf(".attn.tv")>0){let o=t.data.__attentive||{};o&&o.email&&e(o.email)}})}function Gs(e){let t=document.getElementById("continue_button"),o=document.querySelectorAll("input[type=email]");t&&o&&h.addListener(t,"click",()=>{e(o[0]&&o[0].value)})}function Go(){return S(window,"ShopifyCustomer.email")||S(window,"Shopify.checkout.email")||S(window,"Shopify.Checkout.customer.email")}function Ws(){return S(window,"userProperties.email")}function Hs(){let e=S(window,"_learnq");if(e&&typeof e.identify=="function")return e.identify().$email}function An(e){if(e)return e.trim()}function bn(e){return new RegExp(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/).test(e)}function xn(e){let t=An(e);return t&&bn(t)?t:void 0}function Pn(e){let t=xn(e);return t?ot(t):void 0}function Pt(e){let t=Pn(e);t&&me(Oo,t)}function Am(e,t=()=>{}){e.value&&t(e.value)}function bm(e,t){let o=e.textContent||e.innerText;return o&&(o=o.toLowerCase()),o&&o.indexOf(t.toLowerCase())!==-1}function In(e){return bm(e,"email")}function xm(e){if(e.labels){if(Array.from(e.labels).some(o=>In(o)))return!0}else if(e.id&&Array.from(document.getElementsByTagName("label")).some(o=>o.htmlFor===e.id&&In(o)))return!0;if(e.parentNode){let t=e.parentNode;return t.tagName.toLowerCase()==="label"&&In(t)}return!1}function Pm(e){return Array.from(e).filter(o=>xm(o))}var js='input[type="email"], input[autocomplete~="email"], input[placeholder~="email" i], input[type="text"][id*="email" i], input[type="text"][name*="email" i]';function Tn(){let e=jt(js);if(!e.length){let t=document.querySelectorAll('input[type="text"]');t.length&&(e=Pm(t))}return e}function Wo(e=()=>{}){let t=Tn();v(t,o=>{Am(o,e)}),h.addListener(window,"focusout",o=>{let r=o.target;if(r.matches(js)||Array.isArray(t)&&t.includes(r)){let n=r.value;n&&e(n)}})}function Ks(e){let t=Go()||Ws()||Hs();t&&e(t),qs(o=>{e(o)}),Gs(o=>{e(o)}),Wo(o=>{e(o)})}function Js(e=()=>{}){let t=Go()||Ws()||Hs();return t?(Pt(t),e()):(qs(o=>{Pt(o)}),Gs(o=>{Pt(o)}),Wo(o=>{Pt(o),e()})),t}async function fe(){try{let e=await Ee(Oo)||A(Oo);return e?gt(e):void 0}catch(e){i.error(e);return}}function rt(e,t){var o=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(o>>16);return r<<16|o&65535}function Tm(e,t){return e<<t|e>>>32-t}function Ho(e,t,o,r,n,a){return rt(Tm(rt(rt(t,e),rt(r,a)),n),o)}function re(e,t,o,r,n,a,u){return Ho(t&o|~t&r,e,t,n,a,u)}function ne(e,t,o,r,n,a,u){return Ho(t&r|o&~r,e,t,n,a,u)}function ie(e,t,o,r,n,a,u){return Ho(t^o^r,e,t,n,a,u)}function ae(e,t,o,r,n,a,u){return Ho(o^(t|~r),e,t,n,a,u)}function km(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;var o,r,n,a,u,f=1732584193,s=-271733879,g=-1732584194,_=271733878;for(o=0;o<e.length;o+=16)r=f,n=s,a=g,u=_,f=re(f,s,g,_,e[o],7,-680876936),_=re(_,f,s,g,e[o+1],12,-389564586),g=re(g,_,f,s,e[o+2],17,606105819),s=re(s,g,_,f,e[o+3],22,-1044525330),f=re(f,s,g,_,e[o+4],7,-176418897),_=re(_,f,s,g,e[o+5],12,1200080426),g=re(g,_,f,s,e[o+6],17,-1473231341),s=re(s,g,_,f,e[o+7],22,-45705983),f=re(f,s,g,_,e[o+8],7,1770035416),_=re(_,f,s,g,e[o+9],12,-1958414417),g=re(g,_,f,s,e[o+10],17,-42063),s=re(s,g,_,f,e[o+11],22,-1990404162),f=re(f,s,g,_,e[o+12],7,1804603682),_=re(_,f,s,g,e[o+13],12,-40341101),g=re(g,_,f,s,e[o+14],17,-1502002290),s=re(s,g,_,f,e[o+15],22,1236535329),f=ne(f,s,g,_,e[o+1],5,-165796510),_=ne(_,f,s,g,e[o+6],9,-1069501632),g=ne(g,_,f,s,e[o+11],14,643717713),s=ne(s,g,_,f,e[o],20,-373897302),f=ne(f,s,g,_,e[o+5],5,-701558691),_=ne(_,f,s,g,e[o+10],9,38016083),g=ne(g,_,f,s,e[o+15],14,-660478335),s=ne(s,g,_,f,e[o+4],20,-405537848),f=ne(f,s,g,_,e[o+9],5,568446438),_=ne(_,f,s,g,e[o+14],9,-1019803690),g=ne(g,_,f,s,e[o+3],14,-187363961),s=ne(s,g,_,f,e[o+8],20,1163531501),f=ne(f,s,g,_,e[o+13],5,-1444681467),_=ne(_,f,s,g,e[o+2],9,-51403784),g=ne(g,_,f,s,e[o+7],14,1735328473),s=ne(s,g,_,f,e[o+12],20,-1926607734),f=ie(f,s,g,_,e[o+5],4,-378558),_=ie(_,f,s,g,e[o+8],11,-2022574463),g=ie(g,_,f,s,e[o+11],16,1839030562),s=ie(s,g,_,f,e[o+14],23,-35309556),f=ie(f,s,g,_,e[o+1],4,-1530992060),_=ie(_,f,s,g,e[o+4],11,1272893353),g=ie(g,_,f,s,e[o+7],16,-155497632),s=ie(s,g,_,f,e[o+10],23,-1094730640),f=ie(f,s,g,_,e[o+13],4,681279174),_=ie(_,f,s,g,e[o],11,-358537222),g=ie(g,_,f,s,e[o+3],16,-722521979),s=ie(s,g,_,f,e[o+6],23,76029189),f=ie(f,s,g,_,e[o+9],4,-640364487),_=ie(_,f,s,g,e[o+12],11,-421815835),g=ie(g,_,f,s,e[o+15],16,530742520),s=ie(s,g,_,f,e[o+2],23,-995338651),f=ae(f,s,g,_,e[o],6,-198630844),_=ae(_,f,s,g,e[o+7],10,1126891415),g=ae(g,_,f,s,e[o+14],15,-1416354905),s=ae(s,g,_,f,e[o+5],21,-57434055),f=ae(f,s,g,_,e[o+12],6,1700485571),_=ae(_,f,s,g,e[o+3],10,-1894986606),g=ae(g,_,f,s,e[o+10],15,-1051523),s=ae(s,g,_,f,e[o+1],21,-2054922799),f=ae(f,s,g,_,e[o+8],6,1873313359),_=ae(_,f,s,g,e[o+15],10,-30611744),g=ae(g,_,f,s,e[o+6],15,-1560198380),s=ae(s,g,_,f,e[o+13],21,1309151649),f=ae(f,s,g,_,e[o+4],6,-145523070),_=ae(_,f,s,g,e[o+11],10,-1120210379),g=ae(g,_,f,s,e[o+2],15,718787259),s=ae(s,g,_,f,e[o+9],21,-343485551),f=rt(f,r),s=rt(s,n),g=rt(g,a),_=rt(_,u);return[f,s,g,_]}function Cm(e){var t,o="",r=e.length*32;for(t=0;t<r;t+=8)o+=String.fromCharCode(e[t>>5]>>>t%32&255);return o}function Nm(e){var t,o=[];for(o[(e.length>>2)-1]=void 0,t=0;t<o.length;t+=1)o[t]=0;var r=e.length*8;for(t=0;t<r;t+=8)o[t>>5]|=(e.charCodeAt(t/8)&255)<<t%32;return o}function Om(e){return Cm(km(Nm(e),e.length*8))}function Rm(e){var t="0123456789abcdef",o="",r,n;for(n=0;n<e.length;n+=1)r=e.charCodeAt(n),o+=t.charAt(r>>>4&15)+t.charAt(r&15);return o}function Lm(e){return unescape(encodeURIComponent(e))}function Dm(e){return Om(Lm(e))}function Fm(e){return Rm(Dm(e))}function kn(e){return Fm(e)}function nt(e){return(D("experiments")||[]).find(o=>o.name===e)||{}}var Ys={checkout_abandonment:"ca",klaviyo_overlay:"ko",sticky_call_to_action:"pb"};function Pe(e){let t=nt(e);if(!t.name)return t;let o=Ae(b());function r(a,u){let f,s;if(Array.isArray(a)&&a.length&&a[0].value&&typeof a[0].percent=="number")f=`${e}_${u}`,s=a;else if(a.allocations){let g=a.name||u;f=`${e}_${g}`,s=a.allocations}if(f&&s){let g=Ys[e]||e,_=a.short_name||u;return G({name:f,allocations:s,force:o[`bcai_${g}_${_}`]})}return a}function n(a,u){if(!a)return a;let f=Array.isArray(a)?[]:{},s;return Object.keys(a).forEach(g=>{let _=u?`${u}_${g}`:g;s=r(a[g],_),f[g]=typeof s=="object"?n(s,_):s}),f}return{name:t.name,active:t.active,data:n(t.data)}}async function Cn(){try{if(Pe("pwo_additional_context")?.active){let t=await fe();if(t)return kn(`${t}bcai${p}`)}return}catch(e){i.error(e);return}}function Xs(){return window?.__fudge__?.deviceId}var zs=e=>async()=>{try{return k(e)||await oe(e)||await Ee(e)||A(e)}catch(t){i.error(t);return}},jo=e=>()=>A(e),ee=(e,t)=>{let o;return async()=>{try{return o=o||await t(),{platform:e,id:o}}catch(r){i.error(r);return}}},Bm=ee("fa",Fs),$m=ee("ga",tt),Mm=ee("cdp",zs("cdp_id")),Um=ee("shop_cid",Bs),Vm=ee("shop_aid",jo("_shopify_y")),qm=ee("kl_cid",lt),Gm=ee("attv_cid",jo("__attentive_id")),Wm=ee("ju_cid",$s),Hm=ee("bx_hid",Ms),jm=ee("bx_sid",Us),Km=ee("tab_cid",zs("taboola global:user-id")),Jm=ee("bc_cid",jo(Ut)),Ym=ee("_bc_i",Ge),Xm=ee("_bt_uid",jo("tag_user_id")),zm=ee("_bc_em",Cn),Qm=ee("edme_id",Vs),Zm=ee("fdg_id",Xs);async function Nn(){try{return[await Bm(),await $m(),await Mm(),await Um(),await Vm(),await qm(),await Gm(),await Km(),await Jm(),await Ym(),await Wm(),await Hm(),await jm(),await Xm(),await zm(),await Qm(),await Zm()]}catch(e){return i.error(e),[]}}var Qs;function On(){return Qs||A(jr)||void 0}function Zs(e){e&&(Qs=e,V(jr,e,1051200))}function ec(){let e=On()?.split("_",3);if(e)return{page_correlation_id:e[0],session_id:e[1]};i.error(new bt("Attempted to parse historyId before it has been set!"))}var Kt=Z("page"),ed={page:{ignored:!1,log_purchase:!1}};function tc(e){return{page:{ignored:e.ignored,log_purchase:e.log_purchase}}}function oc(e={},t){let o=k("page_id"),r=ed;o!==void 0&&e?v(e.filter(f=>f.pageName),f=>{if(f.pageName===o)return r=tc(f),!1}):o===void 0&&e&&v(e.filter(f=>f.pattern),f=>{try{let s=t.match(f.pattern);if(s){if(o=f.pageName,r=tc(f),s.length>1)for(let g=1;g<s.length;g+=1)o=o.replace(`$${g}`,s[g]);return!1}}catch{}}),o||(o="other");let n=Kt.get("lastUrl"),a=Kt.get("lastId"),u=o!==a||t!==n;return Kt.set("lastUrl",t),Kt.set("lastId",o),{id:o,config:r,isNewPage:u,currentUrl:t,lastUrl:n}}function Te(){return Kt.get("lastId")}var rc={};function nc(e){rc=e}function ic(e,t,o){let r={};return v(rc,(n,a)=>{typeof n=="function"?r[a]=n(e[a],t,o):typeof n<"u"&&(r[a]=n)}),r}function td(e,t){return t||(e==="_shopify_y"?"aid":e)}function od(e){let t,o=e.value,r=e.nameOverride,n=A(o);return o&&n&&(t={name:td(o,r),value:n}),t}function Q(e){let t=[];return e.forEach(o=>{if(o.source==="cookie"){let n=od(o);n&&t.push(n)}}),t}function ke(e,t){let o=[];return e&&t&&o.push({name:e,value:t}),o}function ac(){let e=Y(),t=/.*(\/checkouts\/[a-z]{1,3}\/)/gm;if(e?.match(t))return e=e.replace(t,""),e?.replace(/\/$/,"").split("/")[0];if(e?.includes("/checkouts/"))return e=e.replace(/.*checkouts\//,""),e?.replace(/\/$/,"").split("/")[0]}function rd(){let e="0123456789abcdef";return e.charAt(Math.floor(Math.random()*e.length))}function Jt(e){return new Array(e).fill(".",0,e).map(()=>rd()).join("")}function Yt(){return`${Jt(8)}-${Jt(4)}-${Jt(4)}-${Jt(4)}-${Jt(12)}`}function Tt(e){return e!==void 0?(e*.01).toLocaleString("en-US",{currency:"USD",minimumFractionDigits:2,useGrouping:!1}):void 0}function Xt(e){return e?typeof e=="string"?Tt(e.replace(/\D/g,"")*1):e.toString():"0.00"}function Ko(e){let[t]=Q(e);if(t?.value)return{external_id:t.value}}function sc(){let e=document.getElementById("shopify-pay-alternate-title");if(S(window,"ShopifyPay")&&e)return{custom_dimensions:{payment_type:"shop-pay"}};if(S(window,"Shopify.checkout")){let t=document.getElementsByClassName("payment-icon");if(t.length&&t[0].textContent)return{custom_dimensions:{payment_type:t[0].textContent.trim()}}}}function Rn(){let e={},t=S(window,"Shopify.checkout");if(t&&(I(e,{event_id:t.order_id,total_price:Xt(t.total_price),currency:t.presentment_currency,shipping_method:t.shipping_rate?.title,shipping_price:Xt(t.shipping_rate?.price),cart:t.line_items&&t.line_items.map(o=>({id:o.product_id,price:Xt(o.price),quantity:o.quantity,categories:[o.title],msrp:Xt(o.line_price),color:o.variant_title,brand:o.vendor}))}),t.discount)){let o=t.discount;I(e,{discounts:[{code:o.code,discount_amount:o.amount,discount_currency:t.currency,discount_percent:o.rate,applicable:o.applicable,reason:o.reason}]})}return e}function Ln(e){return{destination_airport:e.destination_airport,destination_city:e.destination_city,destination_country:e.destination_country,destination_state:e.destination_state,end_date:e.end_date,lodging_id:e.lodging_id,origin_airport:e.origin_airport,rooms:e.rooms,start_date:e.start_date,travelers:e.travelers}}function Dn(){return k("partner_controlled_experiments")}var nd=.1,cc=G({name:"performance_sampling",allocations:[{percent:nd,value:!0}]});function zt(e=`${m}js/core/`){try{let t=Qe("resource").find(o=>o.name.includes(e));return t&&t.startTime}catch{i.error(new Be("Unable to get start time: Browser does not support PerformanceResourceTiming interface"));return}}function id(){try{let e=Qe("resource").find(t=>t.name.includes("gtm.js"));return e&&e.startTime}catch{i.error(new Be("Unable to get start time: Browser does not support PerformanceResourceTiming interface"));return}}function fc(){try{let e=Qe("resource").find(t=>t.name.includes(`${m}js/core/`));if(e){let{name:t}=e;if(t.includes("shopify-init"))return"SHOPIFY";if(t.includes("source=gtm"))return"GTM"}return"JS"}catch{i.error(new Be("Unable to get start time: Browser does not support PerformanceResourceTiming interface"));return}}function ad(){let e=zt(),t=fc();if(e&&t==="GTM"){let o=id();if(o)return e-o}}function sd(){try{let e=Qe("resource").find(t=>t.name.includes("https://api.blackcrow.ai/v1/events/view"));return e&&e.startTime}catch{i.error(new Be("Unable to get time to view request: Browser does not support PerformanceResourceTiming interface"));return}}function uc(){if(cc){let e=zt(),t=fc()||"unknown",o=t==="GTM"?ad()||"unknown":"N/A";e&&z(`Initial script load after ${e} ms`,{"script.start_time":e,"script.load_method":t,"script.time_since_gtm_start":o,"view.url":k("page_url")||b(),"view.referrer":k("page_referrer_url")||ce()})}}function pc(){if(cc){let e=sd()-zt();e&&z(`Time to initiate view request: ${e} ms`,{"script.time_to_view":e,"view.url":k("page_url")||b(),"view.referrer":k("page_referrer_url")||ce()})}}function mc(){return{nb:{active:!!window.Northbeam},tw:{active:!!window.TriplePixel},bt:{active:!!window.edgetag}}}var T={VIEW:"view",PURCHASE:"purchase",DELAYED_PURCHASE:"delayed_purchase",BAD_ACTOR_TIMEOUT:"bad_actor_timeout",BAD_ACTOR_BEFOREUNLOAD:"bad_actor_beforeunload",PWO_IMPR:"pwo_impression",PWO_EMAIL_LEAD:"pwo_email_lead",PWO_SMS_LEAD:"pwo_sms_lead",PWO_CLOSE:"pwo_close",PWO_OPEN_ATTEMPT:"pwo_open_attempt",PWO_DECISION:"pwo_decision",CA_CART_CHECKOUT:"ca_cart_checkout",CA_PAYMENT:"ca_payment",CA_SHIPPING_EXIT:"ca_shipping_exit",CA_TEST:"ca_test",DEVICE_MOTION:"device_motion",DISCOUNT_APPLIED:"discount_applied",DISCOUNT_INTERACTION:"discount_interaction",MARKETING_CHECKOUT_EVENT:"marketing_checkout_event",KLAVIYO_OPEN:"klv_open",KLAVIYO_CLOSE:"klv_close",KLAVIYO_LEAD:"klv_lead",KLAVIYO_SPLIT:"klv_split",PRED_WELCOME_PLATFORM_LOADED:"pred_welcome_platform_loaded",OUT_OF_STOCK:"out_of_stock",PAYMENT_METHOD_CLICK:"payment_method_click",HEADER_CLICK:"header_click",PREDICTIVE_BUTTON:"predictive_button",PREDICTIVE_BUTTON_DECISION:"predictive_button_decision",PRED_WELCOME_DECISION:"pred_welcome_decision",EXIT_INTENT:"exit_intent",RB_ACTIVE:"rb_active",PRED_WELCOME_OPEN_ATTEMPT:"pred_welcome_open_attempt",PRED_WELCOME_OPEN_LISTENER_SET:"pred_welcome_open_listener_set"};function Jo(){return{api_client_type:"JS",api_client_version:"13621",api_client_source:Wr()}}function $e(e){let t=k(`custom_${e}`);return typeof t=="object"?Array.isArray(t)?String(t):JSON.stringify(t):t}function cd(e,...t){return e=e||{},v(t,o=>{v(o,(r,n)=>{(r||r===0||r===!1)&&(e[n]=r)})}),e}function fd(){return{coupon:k("coupon"),shipping_method:k("shipping_method"),shipping_price:k("shipping_price"),total_price:k("total_price"),zip_code:k("zip_code"),custom_1:$e(1),custom_2:$e(2),custom_3:$e(3),custom_4:$e(4),custom_5:$e(5),custom_6:$e(6),custom_7:$e(7),custom_8:$e(8),custom_9:$e(9),custom_10:$e(10),traffic_groups:k("traffic_groups"),partner_controlled_experiments:Dn(),referrer_source:k("referrer_source"),referrer_medium:k("referrer_medium"),referrer_campaign:k("referrer_campaign"),referrer_term:k("referrer_term"),cart:k("cart"),currency:k("currency"),is_logged_in_user:k("user_is_logged_in"),user_has_subscription:k("user_has_subscription")}}async function ud(e){try{let t=xt();return{metadata:Jo(),build:"13621",site_name:p,custom_dimensions:k("custom_dimensions"),device_info:te(),device_width:Ls(),device_height:Rs(),page_id:e,page_url:k("page_url")||b(),page_referrer_url:k("page_referrer_url")||ce(),page_title:k("page_title")||At(),page_time:hn(),visitor_id:t.id,internal_id:Ge(),member_id:k("member_id"),history_id:On(),user_identifiers:await Nn(),user_metadata:{visitor_id:{source:t.source,name:t.name,fallback_used:t.fallback}},bundle_load_start:zt(),attr:mc()}}catch(t){return i.error(t),{}}}function pd(e){return e?["view","purchase","delayed_purchase"].includes(e):!0}function md(e){return e?["view","purchase"].includes(e):!0}function dd(e){return e?e==="purchase":!0}var ld={travel:Ln};function gd(){let e={};return v(ld,(t,o)=>{let r=k(`${o}`);r&&(e[o]=t(r))}),e}function _d(e){["custom_dimensions","event_id"].forEach(o=>{e[o]===void 0&&(e[o]="")})}function hd(e){return[T.PWO_DECISION,T.PWO_OPEN_ATTEMPT,T.PWO_IMPR,T.PWO_EMAIL_LEAD,T.PWO_SMS_LEAD,T.PWO_CLOSE].includes(e)}async function Fn(e,t={}){try{let o=t.page_id||Te(),r=await ud(o);return pd(e)&&(r={...r,...fd()},I(r,gd(),Rn())),dd(e)&&r.purchase_type===void 0&&(r.purchase_type=""),hd(e)&&(r={...r,...t}),_d(r),v(r,(n,a)=>{typeof t[a]<"u"&&(r[a]=t[a])}),md(e)||I(r,{custom_dimensions:ec()}),cd({},r,ic(r,e,o))}catch(o){return i.error(o),{}}}var yd=500,Bn={},$n={};function Mn(){$n={},Bn={}}function dc(e){return $n[e]||0}function Ed(e){let t=!1,o=e==="view"?1:D(`config.events.${e}.dedupe.limit_per_page`);return o&&(t=dc(e)>=o),t?"limit_per_page":""}function wd(e,t){return e.startsWith("datalayer-")||[T.PREDICTIVE_BUTTON,T.KLAVIYO_OPEN].includes(e)?"":t-(Bn[e]||0)<yd?"debounce":""}function vd(e,t,o){let r="",n=t.event_id,a=D(`config.events.${e}.dedupe.time_threshold`);if(n||a){let u=qo(Kr)||{},f=u[e]||{};a&&o-(f.time||0)<parseInt(a,10)&&(r="time_threshold"),!r&&n&&n===f.id&&(r="repeat_id"),r||(u[e]={time:o,id:n},me(Kr,u))}return r}function lc(e,t){let o=Date.now(),r=wd(e,o)||Ed(e)||vd(e,t,o);return r||($n[e]=dc(e)+1,Bn[e]=o),r}var Un="EventsAPI";async function L(e,t,o,r){try{let n=`https://api.blackcrow.ai/v1/events/${e}?`;qe(p)&&(n=`https://api.sandbox.blackcrow.ai/v1/events/${e}?`);let a=await Fn(e,t),u=lc(e,a);if(u){i.error(new pe(`Duplicate ${e}: ${u}`,Un));return}let f=JSON.stringify(a),s={servletName:Un,method:"POST",cache:"no-cache",body:f};X(`request: ${e}`,{body:f}),q(n,s,o,r)}catch(n){i.error(new pe(n,Un))}}function gc(e){let t="https://api.blackcrow.ai/v1/events/platform?";qe(p)&&(t="https://api.sandbox.blackcrow.ai/v1/events/platform?");let o=JSON.stringify(e);Ze(t,o)}var y={START:"start",SESSION:"session",SET:"set",EXTEND:"extend",REFRESH:"refresh",PARTNER_EVENT:"partner_event",VIEW:"view",VIEW_RESPONSE:"view_response",PURCHASE:"purchase",SCORES_UPDATE:"scores_update",PWO_IMPR:"pwo_impression",PWO_EMAIL_LEAD:"pwo_email_lead",PWO_SMS_LEAD:"pwo_sms_lead",PWO_CLOSE:"pwo_close",PWO_OPEN_ATTEMPT:"pwo_open_attempt",OVERRIDES:"overrides",CLEAR_OVERRIDES:"clear_overrides",DISCOUNT_APPLIED:"discount_applied",DISCOUNT_INTERACTION:"discount_interaction",OUT_OF_STOCK:"out_of_stock",CA_CART_CHECKOUT:"ca_cart_checkout",CA_PAYMENT:"ca_payment",CA_SHIPPING_EXIT:"ca_shipping_exit",HEADER_CLICK:"header_click",KLAVIYO_OPEN:"klv_open",KLAVIYO_CLOSE:"klv_close",KLAVIYO_LEAD:"klv_lead",PAYMENT_METHOD_CLICK:"payment_method_click",PREDICTIVE_BUTTON:"predictive_button",EXIT_INTENT:"exit_intent",RB_ACTIVE:"rb_active",PRED_WELCOME_PLATFORM_LOADED:"pred_welcome_platform_loaded",ADD_TO_CART:"add_to_cart",INITIATE_CHECKOUT:"initiate_checkout"};var Sd=["purchase","referral","call","update_account"],Id=["purchase","referral","call"];function _c(e){return Sd.indexOf(e)!==-1}function Ad(e){let t=e.trigger,o=e.data||{};t==="call"&&(o.purchase_type="call"),Id.indexOf(t)!==-1&&(t=T.PURCHASE),L(t,o)}function hc(){P("platform",y.PARTNER_EVENT,Ad)}function Vn({appName:e,eventName:t,data:o,sendFn:r}){let n={namespace:c,app_name:e,event_name:t,data:o};if(r)r(n,"*");else try{window.top.postMessage(n,"*")}catch(a){if(a instanceof DataCloneError)i.error(new Be("Attempting to post invalid message object"));else throw a}}var bd=Z("bound_events"),xd=Z("triggered_events");function se(e,t,o,r){r=r||{},r.noCache||xd.push(`${e}.${t}`,{data:o,onExec:r.onExec});let n=bd.get(`${e}.${t}`);v(n,a=>{Ht(a,o,r.onExec)}),r.postMessage&&Vn({appName:e,eventName:t,data:o})}function N(e,t=()=>{},o=9,r=300,n=!1){try{return e()}catch(a){return o?h.setTimeout(()=>N(e,t,o-1,n?r*2:r,n),r):t(a)}}function Pd(){w()||(i.postMessageEventListener&&h.removeListener(window,"message",i.postMessageEventListener),i.postMessageEventListener=e=>{let t=e.data||{};t.namespace===c&&(X(`trigger: ${t.event_name}`,t.data),se(t.app_name||"platform",t.event_name,t.data))},h.addListener(window,"message",i.postMessageEventListener))}function kt(e){if(!e)return;let t=e.app_name||"platform",o=e.data,r=e.trigger;if(r){X(`trigger: ${r}`,e),r===y.EXTEND?Bo(o):r===y.SET?$o(o):_c(r)?se(t,y.PARTNER_EVENT,e):se(t,r,o);return}let n=e.bind;if(n){X(`bind: ${n}`,e),P(t,n,e.callback,{origEvent:e});return}X("unrecognized",e)}function yc(){v(d,e=>{kt(e)})}function Ec(){return N(()=>Pd(),e=>i.error(e)),kt}function qn(){Ec(),i.push=kt,i.history=Es}var wc="IntentProperties";function We(e){return e?S(window[wc],e):window[wc]}function Gn(){let e=We();if(e){let t={page_id:e.page_id,visitor_id:e.visitor_id||e.publisher_user_id,member_id:e.member_id,user_is_logged_in:e.is_logged_in_user,user_has_subscription:e.user_has_subscription,page_url:e.page_url,page_referrer_url:e.page_referrer_url,page_title:e.page_title,referrer_source:e.referrer_source,site_currency:e.site_currency,site_country:e.site_country,site_language:e.site_language,site_name:e.site_name,traffic_groups:e.traffic_groups,custom_1:e.site_custom_1,custom_2:e.site_custom_2,custom_3:e.site_custom_3,custom_4:e.site_custom_4,custom_5:e.site_custom_5,custom_6:e.site_custom_6,custom_7:e.site_custom_7};e.cart&&(t.cart=e.cart),e.travel&&(t.travel=I({},{start_date:e.travel.start_date,end_date:e.travel.end_date,origin_airport:e.travel.origin_airport,destination_airport:e.travel.destination_airport,travelers:e.travel.travelers})),kt({trigger:y.EXTEND,data:t})}}var Td=Z("bound_events"),kd=Z("triggered_events");function Wn(){Td.clear(D("config.clearBindings")),kd.clear()}function Qt(){let e=S(window,"Shopify.checkout.total_tax");if(e)return e;let t=document.querySelectorAll("[data-checkout-total-taxes-target]");return t.length?t[0].textContent.startsWith("$")?t[0].textContent.trim().substring(1):t[0].textContent.trim():"0.00"}function O(e){/complete|interactive|loaded/.test(document.readyState)?e():h.addListener(document,"DOMContentLoaded",()=>{e()})}function Cd(){return{total_price:We("total_price"),coupon:We("coupon"),shipping_method:We("shipping_method"),shipping_price:We("shipping_price"),zip_code:We("zip_code")}}function vc(){let e=sc(),t={custom_dimensions:{tax_amount:window.Shopify?Qt():void 0},total_price:window.cart_json?.total_price};return I({},e,t)}function Nd(){window.IntentProperties&&Bo(Cd()),V(us,!0,1051200),L(T.PURCHASE,vc())}function Hn(){D("page.log_purchase")&&(Nd(),O(()=>{L(T.DELAYED_PURCHASE,vc())}))}function Ic(e){h.addListener(window,"message",t=>{if(t.origin&&t.origin.indexOf(".attn.tv")>0){let o=t.data.__attentive||{};o&&o.phone&&e(`+1${o.phone}`)}})}function Ac(e){let t=document.getElementById("continue_button"),o=document.querySelectorAll("input[type=tel]");t&&o&&h.addListener(t,"click",()=>{if(o[0]){let r=o[0].value;e(r)}})}function bc(){return S(window,"Shopify.checkout.phone")}function xc(){let e=S(window,"_learnq");if(e&&typeof e.identify=="function")return e.identify().$phone}function Od(e){let t=e.match("\\+")?e:`+1${e}`;return t=t.replace(/^(\+)|\D/g,"$1"),t}function Rd(e){return new RegExp(/^\+\d{10,14}$/g).test(e)}function jn(e){let t=Od(e);return Rd(t)?ot(t):void 0}function Yo(e){let t=jn(e);t&&me(Ro,t)}function Ld(e,t=()=>{}){e.value&&t(e.value)}var Sc='input[type="tel"], input[autocomplete~="tel"], input[type="text"][id*="phone" i], input[type="text"][name*="phone" i]';function Pc(e=()=>{}){let t=jt(Sc);v(t,o=>{Ld(o,e)}),h.addListener(document,"focusout",o=>{let r=o.target;if(r.matches(Sc)){let n=r.value;n&&e(n)}})}function Tc(e){let t=bc()||xc();t&&e(t),Ic(o=>{e(o)}),Ac(o=>{e(o)}),Pc(o=>{e(o)})}function kc(e=()=>{}){let t=bc()||xc();return t?(Yo(t),e()):(Ic(o=>{Yo(o)}),Ac(o=>{Yo(o)}),Pc(o=>{Yo(o),e()})),t}async function Xo(){try{let e=await Ee(Ro)||A(Ro);return e?gt(e):void 0}catch(e){i.error(e);return}}function Ce(){return!!S(window,"Shopify")}function Zt(){return Ce()&&Y()?.includes("products")}function Dd(){return Ce()&&Y()==="/"}function Ct(){return!!S(window,"Shopify.Checkout")}function Fd(){let e=S(window,"Shopify.Checkout.isOrderStatusPage"),t=S(window,"Shopify.checkout");return e!==void 0||t!==void 0}function it(){return S(window,"Shopify.Checkout.currency")||S(window,"cart_json.currency")||S(window,"Shopify.currency.active")||S(window,"afterpay_shop_currency")}function zo(){return S(window,"Shopify.Checkout.totalPrice")?.toString()}function Ne(){if(!Ce())return;let e=S(window,"Shopify.Checkout.step");if(e)switch(e){case"payment_method":return"payment";case"shipping_method":return"shipping";case"contact_information":return"contact";case"thank_you":return"confirmation";default:return e}return Fd()?"order_status":Zt()?"products":Dd()?"index":Y()}function Bd(e){let t=document.getElementById("continue_button"),o=document.getElementById("checkout_shipping_address_first_name"),r=document.getElementById("checkout_shipping_address_last_name");t&&o&&r&&h.addListener(t,"click",()=>{e(o.value,r.value)})}function Cc(){Bd((e,t)=>{me(Qr,ot(e)),me(Zr,ot(t))})}async function Nc(){try{let e=await Ee(Qr);return e?gt(e):void 0}catch(e){i.error(e);return}}async function Oc(){try{let e=await Ee(Zr);return e?gt(e):void 0}catch(e){i.error(e);return}}function $d(e){if(e)return e.replace(/['.,/#!$%^&*;:{}=\-_`~()]/g,"")}function Qo(e){let t=$d(e);return t?ot(t):void 0}function Md(e,t){let o=e[t];if(o){let{first_name:r,last_name:n}=o;if(n){let a={fn:r,ln:n};return r&&(a.fln=`${r} ${n}`),I({},a)}}}function Rc(){let e=[],t=Ce()&&S(window,"Shopify.checkout");return t&&["billing_address","credit_card","shipping_address"].forEach(o=>{let r=Md(t,o);r&&e.push(r)}),e.length?e:void 0}function Oe(e,t){let o=document.createElement(e);return Object.keys(t).forEach(n=>{o[n]=t[n]}),o}function Lc(e,t){let o=encodeURIComponent(e);return t&&(o=o.replace(/%2C/g,",")),o}function ue(e,t=!0){let o=[];return v(e,(r,n)=>{if(r!=null&&r!==""){let a=typeof r;a==="function"?r=r.name:a==="object"&&(Array.isArray(r)?r=r.toString():r=JSON.stringify(r)),o.push(`${Lc(n,t)}=${Lc(r,t)}`)}}),o.join("&")}function Kn(e){if(!e||!crypto||!crypto.subtle||typeof crypto.subtle.digest!="function")return Promise.resolve(void 0);let t=new TextEncoder().encode(e);return crypto.subtle.digest("SHA-256",t).then(o=>Array.from(new Uint8Array(o))).then(o=>o.map(r=>r.toString(16).padStart(2,"0")).join(""))}function Zo(e){let t=Object.keys(e).map(o=>Kn(e[o]).then(r=>{e[o]=r}));return Promise.all(t).then(()=>I({},e))}var Ud="facebook_ads";async function Jn(){try{let e=await Xo(),t={em:await fe(),ph:e&&e.replace(/\D/g,""),fn:await Nc(),ln:await Oc()};return I({},t)}catch(e){return i.error(e),{}}}function Dc(e,t,o){let r=`https://www.facebook.com/tr?id=${e}&ev=${t}`;return Jn().then(Zo).then(n=>{v(n,(a,u)=>{r+=`&ud[${u}]=${a}`})}).then(()=>{v(o,(a,u)=>{r+=`&cd[${u}]=${a}`});let n=A(et);return n&&(r+=`&fbp=${n}`),r})}function Fc(e,t,o){return Dc(e,t,o).then(r=>{let n=Oe("img",{width:1,height:1,src:r});n.style.display="none",document&&document.body&&typeof document.body.append=="function"&&document.body.append(n)})}function Yn(e,t,o,r){return Dc(e,t,o).then(n=>{n+="&",n+=ue({dl:b(),rl:document.referrer}),N(()=>{U(n,{method:"GET"},r,a=>{throw a})},a=>i.error(new Error(`${Ud} api call failed with message ${a.message}`)),9,300,!0)})}var at="measure";function F(e,t="|"){return e.filter(o=>o!=null&&o!=="").join(t)}function B(e){let t=Number(e);return isNaN(t)?e:t}function Bc(e){let t=`${e}`;return t.length===1?`0${t}`:t}function er(e,t=""){if(e)return`${e.getFullYear()}${t}${Bc(e.getMonth()+1)}${t}${Bc(e.getDate())}`}function tr(){return window.ShopifyAnalytics&&window.ShopifyAnalytics.lib&&window.ShopifyAnalytics.lib.config&&window.ShopifyAnalytics.lib.config["Facebook Pixel"]&&window.ShopifyAnalytics.lib.config["Facebook Pixel"].conversionsAPIEnabled}var x="Integration not available";var $c=0;function eo(){return $c+=1,$c}function Xn(e,t){return typeof e=="string"&&typeof t=="string"?e.localeCompare(t,void 0,{sensitivity:"accent"})===0:e===t}function zn(e,t="PWO",o=["formBuckets","overlayBuckets","overlayBuckets_triggerBuckets","overlayBuckets_triggerBuckets_formBuckets"]){if(e?.overlaySetting===void 0||e?.overlaySetting===null)return e;let r=Ae(b());function n(u,f){let s,g;if(Array.isArray(u)&&u.length){let _=JSON.parse(JSON.stringify(u));typeof _[0].percent!="number"&&o.includes(f)&&(_[0].percent=1),typeof _[0].percent=="number"&&(s=`${t}_${f}`,g=_.map(E=>({percent:E.percent,value:{...E}})))}if(s&&g){let _=t,E=u.short_name||f;return G({name:s,allocations:g,force:r[`bcai_${_}_${E}`]})}return u}function a(u,f){if(u==null)return u;let s=Array.isArray(u)?[]:{},g;return Object.keys(u).forEach(_=>{let E=f?`${f}_${_}`:_;g=n(u[_],E),s[_]=typeof g=="object"?a(g,E):g}),s}return{...e,overlaySetting:a(e.overlaySetting)}}function Mc(e){let t=e?.formBuckets?.formConfig;return e?.overlayBuckets?.triggerBuckets?.formBuckets?.formConfig!==void 0&&Object.keys(e.overlayBuckets.triggerBuckets.formBuckets.formConfig).length>0&&(t=e.overlayBuckets.triggerBuckets.formBuckets.formConfig),{formId:mt(te()).deviceType==="mobile"?t?.mobile:t?.desktop,profile:t?.profile}}function Vd(e){let t=b()?.toLowerCase();return t&&e?.length?e.find(o=>t.match(o.toLowerCase())):!1}function qd(e,t){let o=e.filter(n=>Xn(n.app,t));return o.length?o.find(n=>Vd(n.allowedUrlPatterns))||o.find(n=>!n.allowedUrlPatterns?.length)||{}:{}}function He(e){if(e){let t=D("apps")||[];if(t)return qd(t,e)}return{}}function or(e){let t=He(e).platforms||[],o=[];return t.forEach(r=>{o.push(r.platform.toLowerCase())}),o}function M(e,t){if(e&&t){let o=He(e);if(o)return(o.platforms||[]).find(a=>Xn(a.platform,t))||{}}return{}}function _t(e){return e?zn(He(e),e).overlaySetting||{}:{}}function ht(e){return e?He(e).identitySetting||{}:{}}function Qn(e,t){let o=ht(e).platforms?.filter(a=>a.platform?.toLowerCase()===t),r=[],n=b();return n&&(r=o?.filter(a=>a.allowedUrlPatterns?.some(u=>n.includes(u)))),r.length||(r=o?.filter(a=>!a.allowedUrlPatterns?.length)),r}function C(e){let t=new Error(e);return t.name="GlobalInterfaceError",t.status="warn",t.stack=K(t.stack,1),t}function Zn(){(function(e,t,o,r,n,a,u){e.fbq||(n=e.fbq=function(){n.callMethod?n.callMethod.apply(n,arguments):n.queue.push(arguments)},e._fbq||(e._fbq=n),n.push=n,n.loaded=!0,n.version="2.0",n.queue=[],a=t.createElement(o),a.async=!0,a.src=r,u=t.getElementsByTagName(o)[0],u.parentNode.insertBefore(a,u))})(window,document,"script","https://connect.facebook.net/en_US/fbevents.js")}function rr(e){return t=>{t.message===x?i.error(new C(e)):i.error(t)}}function nr(e,t){w()||(Zn(),window.fbq("init",e,t))}var Nt="facebook_ads",Vc="trackCustom";function qc(e,t){window.fbq("init",e,t),Qc({location:"init"},"FB init event not sent")}function Gc(e){if(typeof window.fbq!="function"||typeof window.fbq.getState!="function")throw new Error(x);if(typeof window.fbq.getState().then=="function")window.fbq.getState().then(({pixels:t})=>{t&&t.length>0&&e(t)});else if(window.fbq.getState().pixels&&window.fbq.getState().pixels.length>0)e(window.fbq.getState().pixels);else throw new Error(x)}function ir(){return D("facebookAccounts")||[]}function Wc(e){return e===void 0?tr():e}function ei(){return F([c,"validation"])}function Hc(e,t){e.forEach(o=>{let r=o.pixelId,n=o.advancedMatching;if(r){let a=Wc(n)?t:{};w()?Yn(r,ei(),a):qc(r,a)}})}function Gd(e,t,o){let r=ir();r.length&&Hc(r,t),o()}function Wd(e,t,o){Zn();let r=ir();function n(){Gc(a=>{a.forEach(u=>{Wc()&&qc(u.id,t)})})}N(()=>{if(typeof window.fbq!="function")throw new Error(x);r.length?Hc(r,t):n(),o()},rr(`${Nt} globals not found`))}function jc(e,t,o){return function(){typeof e=="function"&&e(Nt,{eventName:t,eventObject:o})}}function Kc(e,t,o,r){let n=jc(r,t,o),a=ir();a.length&&a.forEach(u=>{let f=u.pixelId;Yn(f,t,o,n)})}function Jc(e,t,o,r){let n=jc(r,t,o);Gc(()=>{window.fbq(Vc,t,o),n()})}function Hd(e,t){ir().forEach(r=>{let n=r.pixelId;n&&Fc(n,e,t)})}function Yc(e,t,o,r){return n=>(Hd(e,t),typeof r=="function"&&r(`${Nt}`,{eventName:e,eventObject:t},"score_push_img_pixel"),o(n))}function jd(e){return`${c}_${e}`}function Kd(e,t,o){let r;return e===at?r=F([c,o],"_"):r=F([t,o]),r}function Jd(e,t){return{app_name:e,integration_product:t.integration_product,conversion_product:t.conversion_product,conversion_type:t.conversion_type,comparison_population:t.comparison_population,comparison_group:t.comparison_group,comparison_type:t.comparison_type,threshold_setter:t.threshold_setter,threshold_group_count:t.threshold_group_count,score:B(t.score),event_date:er(new Date,"-"),eventDate:er(new Date)}}function Xc(e,t){let o=jd(e);return{eventName:Kd(e,o,t.integration_product),eventObject:Jd(o,t)}}function Yd(e,t,o){if(!e)return;let r=Xc(t,e);Kc(t,r.eventName,r.eventObject,o)}function Xd(e,t,o){if(!e)return;let r=Xc(t,e),n=r.eventName,a=r.eventObject;N(()=>Jc(t,n,a,o),Yc(n,I({},a,{eventHitId:eo()}),rr(`${Nt} globals not found`),o),80,150)}function zc(){let e=M("target",Nt);return e&&Object.keys(e).length>0}function zd(e){if(zc()){let t=ei();Kc("target",t,I({},e,{eventHitId:eo()}))}}function Qc(e,t){if(zc()){let o=ei();N(()=>Jc("target",o,I({},e,{eventHitId:eo()})),Yc(o,I({},e,{eventHitId:eo()}),rr(t),80,150))}}function Qd(e,t,o){w()?Yd(e,t,o):Xd(e,t,o)}async function Uc(e,t){try{let o=await Jn();w()?Gd(e,o,t):Wd(e,o,t)}catch(o){i.error(o)}}function Zd(e,t){w()?zd(e):Qc(e,t)}var Me={eventHitType:Vc,name:Nt,identify:Uc,setup:Uc,send:Qd,sendValidationEvent:Zd};var we="audience";function de(e){return pn(`apps.${e}`)}var Zc="o",ef=`${c}_audience|score_update`,ti=`${c}_score`,tf=`contextData.${ti}`;function H(e,t){return(o,r,n)=>{if(!o)return;function a(u){u.message===x?i.error(new C(`${e} globals not found`),{appName:r}):i.error(u)}N(()=>t(o,r,n),a)}}var oi="adobe_analytics";function tl(e,t,o){let r=S(window,"s.tl");if(typeof r=="function"){let n={contextData:{[ti]:B(e.score)},linkTrackVars:tf};r(!0,Zc,ef,n),typeof o=="function"&&o(oi,n);return}throw new Error(x)}var ri={name:oi,send:H(oi,tl)};var of="event";var ni="dynamic_yield";function ol(e){return e==="1"?"low":e==="2"?"medium":"high"}function rl(e,t,o){let r=S(window,"DY.API"),n;e.threshold_group_count==="3"&&(n=ol(e.score));let a=F([c,e.comparison_group.toLowerCase(),n||`score_${e.score}`]);if(typeof r=="function"){let u=B(e.score);r(of,{name:a,properties:{}}),typeof o=="function"&&o(ni,{EVENT_PREFIX:`${c}_${t}`,score:u})}else throw new Error(x)}var ii={name:ni,send:H(ni,rl)};function to(e){let t=new Error(e);return t.name="ConfigDataError",t.status="warn",t.stack=K(t.stack,1),t}var nf="event",oo="owox",ar=[];function nl(e){let t=tt();if(t)e(t);else throw new Error(x)}function rf(e,t,o,r){e.cid=t,e.z=Date.now(),U(`https://google-analytics.bi.owox.com/${o}?${ue(e)}`,{method:"GET"},()=>r(oo,e))}function il(e,t,o){let r=window.GoogleAnalyticsObject?window[window.GoogleAnalyticsObject]:window.ga,a=M(t,oo).tracking_id;if(typeof r=="function"){let u=h.setTimeout(()=>{i.error(new C(`${oo} ready hook not fired`))},5e3);r(f=>{if(clearTimeout(u),a=a||f&&f.get("trackingId"),a||v(r.getAll(),s=>{let g=s.get("trackingId");if(g)return a=g,!1}),a){if(!e)return;let s=`${c}_${t}`,g=F([s,e.integration_product,e.conversion_product,e.conversion_type]),_=F([e.comparison_type,e.threshold_setter,e.threshold_group_count,e.comparison_population,e.comparison_group]);ar.push({v:1,ni:1,t:nf,tid:a,dl:b(),ec:g,ea:_,el:B(e.score)}),Array.isArray(ar)&&N(()=>nl(E=>{let R=ar;ar={push:$=>{rf($,E,a,o)}},R.forEach($=>{rf($,E,a,o)})}))}else i.error(new to(`${oo} tracking id not found`))})}}var ai={eventHitType:nf,name:oo,send:il};var al=G({name:"kpi_sampling",allocations:[{percent:.1,value:!0}]});function je(e,t,o){al&&z(`${o} ${t}`,{"evt.name":o,"evt.integration":t,appName:e,"usr.id":xt().id,"view.url":k("page_url")||b(),"view.referrer":k("page_referrer_url")||ce()})}var si={[ri.name]:ri,[ii.name]:ii,[ai.name]:ai};function ci(e,t,o){je(we,e,t),X(`${we} ${t}: ${e}`,o)}function sl(e,t){si[e]!==void 0&&t&&v(t,o=>{o.name&&si[e].send(o,we,(r,n)=>{ci(r,"score_push",n)})})}function cl(){let e=de(`${we}.scores`);e&&e.length&&se(we,y.SCORES_UPDATE,e,{onExec:()=>{ci(p,y.SCORES_UPDATE,e)}});let t=e?e[0]:null;if(t){let o={score:parseInt(t.score,10),comparison_group:t.comparison_group,threshold_group_count:t.threshold_group_count};se(we,"score_update",I({},o),{onExec:()=>{ci(p,"score_update",o)}})}}function fl(e){let t=de(`${we}.integrations`),o=[];return v(t,r=>{let n=r.platform;e[n]&&o.push(e[n].then(()=>{sl(n,r.scores)}))}),cl(),Promise.all(o)}var af={appName:we,platforms:si,sendAppScores:fl};var fi={[Me.name]:Me};function ul(e,t,o="score_push"){je(at,e,o),X(`${at} ${o}: ${e}`,t)}function pl(e,t){fi[e]!==void 0&&t&&t.length>0?(V(Vt,"scored",30),v(t,o=>{o.name&&fi[e].send(o,at,ul)})):V(Vt,"enabled",30)}function ml(e){let t=W("blackcrow_promising_user")||"";return e==="enabled"||e===void 0&&t.toLowerCase()==="active"||e===void 0&&b().toLowerCase().indexOf("blackcrow_promising_user%3dactive")>0}function dl(e){let t=de(`${at}.integrations`),o=A(Vt),r=[];return o==="scored"?V(Vt,"scored",30):ml(o)&&v(t,n=>{let a=n.platform;e[a]&&r.push(e[a].then(()=>{pl(a,n.scores)}))}),Promise.all(r)}var sf={appName:at,platforms:fi,sendAppScores:dl};var ve="pwo",sr={DELAY:"delay",SESSION_VIEW_COUNT:"page_view",EXIT_INTENT:"exit_intent"};var Ue=class{constructor(t){this.name=t}set(t,o){V(this.name,t,o)}get(){return A(this.name)}reset(){V(this.name,"",-1)}};var cf=new Ue(ps),cr=new Ue(ds),pi=new Ue(ls),ui=class{SEPARATOR="|";overlayHistoryCookie=new Ue(ms);get(){let t=this.overlayHistoryCookie.get();return t?t.split(this.SEPARATOR):[]}push(t){let o=this.get();o.push(t),this.overlayHistoryCookie.set(o.join(this.SEPARATOR),30)}count(t){return this.get().filter(o=>o===t).length}totalCount(){return this.get().length}},le=class{overlayClosedCookieDuration=30;openedOverlayEventData=[];constructor(){this.history=new ui}static overlayWasClosed(){return!!cf.get()}static piiWasSubmitted(){return!!cr.get()}static submitPII(){cr.set("true",1051200)}closeOverlay(){delete this._openOverlay}setOverlayClosedCookie(){this.isOverlayOpenedByATC()||cf.set("true",this.overlayClosedCookieDuration)}closeOverlayAndSetCookie(){this.closeOverlay(),this.setOverlayClosedCookie()}isOverlayOpen(){return!!this._openOverlay}piiWasSubmitted(){return le.piiWasSubmitted()}setOverlayClosedDuration(t=30){this.overlayClosedCookieDuration=t}totalOverlaysOpenedCount(){return this.history.totalCount()}overlayOpenedEvent(t){t&&this.openedOverlayEventData.push(t)}handleOpenAttemptOutcome(t){let o=t?.resolved_form_id;if(o){if(!this.openedOverlayEventData.length){i.error(new Error(`[PWO] Impression failed to render for formId: ${o}`));return}if(this.openedOverlayEventData.every(n=>!n.rendered_form_id)&&z("[PWO] All rendered form Ids undefined. Could be justuno overlay."),!this.openedOverlayEventData.find(n=>n.rendered_form_id===o)){let n=this.openedOverlayEventData.map(a=>a.rendered_form_id);i.error(new Error(`[PWO] Impression failed to render for formId: ${o} and external impression rendered form ids: ${n}`))}}}openAttemptEvent(t){this.openedOverlayEventData=[],h.setTimeout(()=>this.handleOpenAttemptOutcome(t),5e3)}openStandardOverlay(){this._openOverlay=le.STANDARD,this.history.push(le.STANDARD)}standardOverlaysOpenedCount(){return this.history.count(le.STANDARD)}openAtcOverlay(){this._openOverlay=le.ATC,this.history.push(le.ATC)}atcOverlaysOpenedCount(){return this.history.count(le.ATC)}isOverlayOpenedByATC(){return this._openOverlay===le.ATC}openExitOverlay(){this._openOverlay=le.EXIT,this.history.push(le.EXIT)}exitOverlaysOpenedCount(){return this.history.count(le.EXIT)}isOverlayOpenedByExitTrigger(){return this._openOverlay===le.EXIT}},ge=le;Po(ge,"STANDARD","s"),Po(ge,"ATC","a"),Po(ge,"EXIT","e");var fr=class{maxTotalOverlays=1/0;maxStandardOverlays=1;maxATCOverlays=1;maxExitOverlays=1;constructor(t){this.interactionTracker=t}setMaxTotalOverlays(t=1/0){this.maxTotalOverlays=t}totalOverlayLimitReached(){return this.interactionTracker.totalOverlaysOpenedCount()>=this.maxTotalOverlays}standardOverlayLimitReached(){return this.interactionTracker.standardOverlaysOpenedCount()>=this.maxStandardOverlays}canOpenStandardOverlay(){return!this.interactionTracker.isOverlayOpen()&&!this.interactionTracker.piiWasSubmitted()&&!this.standardOverlayLimitReached()&&!this.totalOverlayLimitReached()}atcOverlayLimitReached(){return this.interactionTracker.atcOverlaysOpenedCount()>=this.maxATCOverlays}canOpenAtcOverlay(){return!this.interactionTracker.isOverlayOpen()&&!this.atcOverlayLimitReached()&&!this.totalOverlayLimitReached()}exitOverlayLimitReached(){return this.interactionTracker.exitOverlaysOpenedCount()>=this.maxExitOverlays}canOpenExitOverlay(){return!this.interactionTracker.isOverlayOpen()&&!this.exitOverlayLimitReached()&&!this.totalOverlayLimitReached()}};function yt(e,t){i.push({trigger:e,data:t})}var ll=["OPEN","EMAIL_LEAD","LEAD","CLOSE"],mi="attentive",ur={},ff,uf=!0;var gl={OPEN:y.PWO_IMPR,CLOSE:y.PWO_CLOSE,EMAIL_LEAD:y.PWO_EMAIL_LEAD,LEAD:y.PWO_SMS_LEAD};function _l(e,t){ff=e?.toUpperCase(),ur={},uf&&(uf=!1,h.addListener(window,"message",o=>{if(o.origin&&o.origin.indexOf(".attn.tv")!==-1){let r=o.data.__attentive||{};if(r&&ll.includes(r.action)){let{action:n,creativeId:a}=r,u=ur[a];if(u?.includes(n))return;ur[a]=u?[...u,n]:[n];let f=gl[n];f&&yt(f,{rendered_form_id:a})}}})),N(()=>{if(typeof window.__attentive?.trigger=="function")t();else throw new Error(`${mi} globals not found`)},()=>i.error(new C(`[${ff}] ${mi} globals not found.`)),100)}function hl(){return Promise.resolve(W("utm_source")==="attentive")}function yl(){}function El(e){delete ur[e],window?.__attentive?.trigger(null,null,null,e)}var di={name:mi,setup:_l,isIdentified:hl,triggerOverlay:El,addAttributesToUserProfile:yl};var pf=["open","embedOpen","close","redirectedToUrl","submit","stepSubmit"];function Ot(){if(!window.klaviyo){window._klOnsite=window._klOnsite||[];try{window.klaviyo=new Proxy({},{get(e,t){return t==="push"?function(){let o;(o=window._klOnsite).push.apply(o,arguments)}:function(){for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];let a=typeof r[r.length-1]=="function"?r.pop():void 0;return new Promise(f=>{window._klOnsite.push([t].concat(r,[function(s){a&&a(s),f(s)}]))})}}})}catch{window.klaviyo=window.klaviyo||[],window.klaviyo.push=function(){let t;(t=window._klOnsite).push.apply(t,arguments)}}}}function mf(e,t,o=()=>!1,r=500){let n=A(e),a=h.setInterval(()=>{let u=A(e);if(u!==n)try{t(u),o()&&clearInterval(a)}catch(f){clearInterval(a),i.error(new Error(`Error occurred in one of the callbacks: ${f}`))}finally{n=u}},r);return a}var pr="klaviyo",li="PWO",ro={};function wl(e){let t=e.type,o=e?.metaData,r=null;switch(t){case"open":r=y.PWO_IMPR;break;case"submit":o?.$email&&(r=y.PWO_EMAIL_LEAD);break;case"stepSubmit":o?.$phone_number&&(r=y.PWO_SMS_LEAD);break;case"close":r=y.PWO_CLOSE;break;default:break}return r}function vl(e){return e.overrideSampling=!0,e.message=`klaviyo_renderer: ${e.message}`,e}function Sl(e,t){return o=>{o.message===`klaviyo_renderer: ${x}`?i.error(new C(e)):i.error(o),t()}}function df(){return new Promise((e,t)=>N(()=>{if(W("_kx"))return e(!0);let o=window._learnq?._loaded&&window?._learnq?.isIdentified||window._klOnsite?._loaded&&window._klOnsite.isIdentified||window?.klaviyo?.isIdentified;if(typeof o=="function"){let r=o();return e(r!==void 0&&r)}throw vl(new Error(x))},Sl(`[${li}] ${pr} could not determine whether user is identified`,t)))}function Il(e){let t=window._learnq?._loaded&&window?._learnq?.push||window._klOnsite?._loaded&&window?._klOnsite?.push||window?.klaviyo?.push;typeof t=="function"&&t(["identify",e])}function gi(e){if(!e)return;let t=["identify",{$email:e}],o=window._learnq?._loaded&&window?._learnq?.push||window._klOnsite?._loaded&&window?._klOnsite?.push||window?.klaviyo?.push;typeof o=="function"&&o(t)}function Al(){O(()=>{Wo(e=>{let t=xn(e);t&&gi(t)})})}async function bl(){try{if(await df()===!1){let t=await fe();t?gi(t):Al()}}catch(e){i.error(e)}}function xl(){function e(){let t=lt();t&&L("kl_purchase",{kl_cid:t})}return Ne()==="confirmation"?(mf(Fo,e,lt),fe().then(t=>{let o=t||Go();o&&gi(o)}).catch(t=>i.error(t))):bl()}function Pl(e){delete ro[e],window.klaviyo.openForm(e)}function Tl(e,t){li=e?.toUpperCase(),ro={};function o(r){let n=r?.formId,a=wl(r);function u(){return a&&ro[n]?.includes(a)}function f(){let g=ro[n];ro[n]=g?[...g,a]:[a]}function s(){(window?._learnq?.push||window?._klOnsite?.push||window?.klaviyo?.push)(["track","Welcome Form Submit"])}u(n,a)||(f(n,a),yt(a,{rendered_form_id:n}),a===y.PWO_EMAIL_LEAD&&s())}h.addListener(window,"klaviyoForms",r=>{r.detail&&pf.includes(r.detail.type)&&o(r.detail)}),(typeof window.klaviyo?.identify!="function"||!window._klOnsite?._loaded)&&Ot(),N(()=>{if(typeof window.klaviyo?.identify=="function"&&window._klOnsite?._loaded)xl().then(t).catch(n=>{i.error(n),t()});else throw new Error(`${pr} globals not found`)},()=>i.error(new C(`[${li}] ${pr} globals not found.`)),100)}var Rt={name:pr,setup:Tl,isIdentified:df,triggerOverlay:Pl,addAttributesToUserProfile:Il};function no(e,t){if(typeof t!="function")return;let o=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(...r){try{r[1]?.match(e)&&t&&h.addListener(this,"load",()=>{this.responseType===""||this.responseType==="text"?t(this.responseText):this.responseType==="json"&&t(JSON.stringify(this.response))})}catch{i.error(new pe(`XHR Sniffer Error For URL: ${e}`))}return o.apply(this,r)}}function mr(e,t){let o=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(...r){try{r[1]?.match(e)&&t(r)}catch{i.error(new pe(`XHR Intercept Error For URL: ${e}`))}return o.apply(this,r)}}var hi="justuno",io={},_i;function yi(e){return e.overrideSampling=!0,e.message=`justuno_renderer: ${e.message}`,e}function lf(e,t){return o=>{o.message===`justuno_renderer: ${x}`?i.error(yi(new C(e))):i.error(o),t(e)}}function kl(){return window._klOnsite?._loaded||Ot(),new Promise((e,t)=>N(()=>{if(typeof window.klaviyo?.isIdentified=="function"&&window._klOnsite?._loaded)return e(Rt.isIdentified());throw yi(new Error(x))},lf(`[${_i}] ${hi} could not determine whether user is identified (using klaviyo).`,t)))}function Cl(e){typeof window?.klaviyo?.push!="function"&&!window._klOnsite?._loaded&&Ot(),Rt.addAttributesToUserProfile(e)}function Nl(e){delete io[e],window.ju_loadiframe({campaign_id:e??""})}function Ol(e,t){io={},_i=e?.toUpperCase();function o(a,u){return io[a]?.includes(u)}function r(a,u){if(a){let f=io[a];io[a]=f?[...f,u]:[u]}}function n(a,u){o(a,u)||(r(a,u),yt(u,{rendered_form_id:a}))}w()?t():(window.juapp=window.juapp||function(){(window.juapp.q=window.juapp.q||[]).push(arguments)},mr("(justuno.com|jst.ai)/api/analytics/impression",()=>{n(void 0,y.PWO_IMPR)}),window.juapp("trackFunc","engagement",(a,u,f,s,g,_)=>{_.find(E=>E.name==="phone_number"&&E.value.length>0)?n(s,y.PWO_SMS_LEAD):a&&n(s,y.PWO_EMAIL_LEAD)}),window.ju_windowevent=(a,u)=>{a==="unload"&&n(u,y.PWO_CLOSE)},N(()=>{if(window.ju_loadiframe&&typeof window.ju_loadiframe=="function"&&window.ju_initialized)t();else throw yi(new Error(x))},lf(`[${_i}] ${hi} globals not found.`,t),100))}var Ei={name:hi,setup:Ol,isIdentified:kl,triggerOverlay:Nl,addAttributesToUserProfile:Cl};var gf={[di.name]:di,[Ei.name]:Ei,[Rt.name]:Rt},dr=class{constructor(t){if(!t)throw new Error("[PWO] No configured overlay renderer");if(this.overlayRenderer=gf[t.toLowerCase()],!this.overlayRenderer)throw new Error(`[PWO] Unrecognized overlay renderer: ${t}`)}setup(){return new Promise(t=>this.overlayRenderer.setup(ve,t)).catch(t=>i.error(t))}triggerOverlay(t){this.overlayRenderer.triggerOverlay(t)}get name(){return this.overlayRenderer?.name}},lr=class{constructor(t){if(!Array.isArray(t)||!t.length)throw new Error("[PWO] No configured identity platforms");if(this.identityPlatforms=t.map(o=>{let r=gf[o?.toLowerCase()];return r||i.error(new Error(`[PWO] Unrecognized identity platform: ${o}`)),r}).filter(o=>!!o),!this.identityPlatforms.length)throw new Error("[PWO] No configured identity platforms")}isUserIdentified(){let t=this.identityPlatforms.map(async o=>{try{return o.isIdentified()}catch{return!0}});return Promise.all(t)}addAttributesToUserProfile(t){this.identityPlatforms.forEach(o=>{o.addAttributesToUserProfile(t)})}};function Rl(){return Number(A(Xr))||0}function ao(){return Number(A(zr))||0}function _f(){let e=Rl();V(Xr,e+1,1051200);let t=ao();t<1&&se("platform",y.SESSION),V(zr,t+1,30)}function hf(e){if(mt(te()).deviceType!=="mobile")O(()=>{h.addListener(document?.documentElement,"mouseleave",e)});else{let t=dt(),o=Os();if(o>0){let r=h.setInterval(()=>{let n=t-dt();n<0&&(n=0,t=dt()),n/o>.3&&(clearInterval(r),e())},150)}}}function gr(e){let t=de(`${we}.scores`)??[];return e?t.find(({name:o})=>o===e)?.score:void 0}function Ll(){let t=_t(ve).excludedQueryParams;return t&&t.some(o=>W(o.name)?.toLowerCase()===o.value?.toLowerCase())}function yf(){return pi.get()?!0:Ll(ve)?(pi.set(!0),!0):!1}function Ef(){let e=_t(ve),t=e?.overlayBuckets,o=Mc(e),r=gr(e?.overlayBuckets?.triggerBuckets?.scoreName);return t===void 0?void 0:{resolved_trigger_config:{...t},resolved_form_id:o.formId,resolved_form_profile:o.profile,resolved_score:r,version:e?.version}}function wf(){let e=!!cr.get(),t=yf();return!(e||t)}function vf(e){return{closed_overlay:!!ge.overlayWasClosed(),identified:e.some(t=>t===!0),pii_submitted:!!ge.piiWasSubmitted(),channel_excluded:yf()}}function wi(e){let t={};function o(){return I({},Ef(),vf(e),{session_page_views:ao()},t)}function r(n){I(t,n)}return{getEventData:o,extendEventData:r}}var Dl={subtree:!0,childList:!0};function Sf(e){let t=document.querySelectorAll(e);if(t.length>1)throw new Error(`[PWO] Expected exactly one matching node. Found ${t?.length}. Query selector: ${e}`);if(t.length===1)return t[0]}function If(e,t){e.style.setProperty("z-index",t,"important")}async function Af(e,t){try{if(!e||!t)return;let o=Sf(e);if(o){If(o,t);return}await new Promise((r,n)=>{let a=new MutationObserver(()=>{try{let u=Sf(e);u&&(If(u,t),a.disconnect(),r())}catch(u){a.disconnect(),n(u)}});a.observe(document.body,Dl)})}catch(o){i.error(o)}}function bf(e){if(e?.length){let t=e?.map(o=>Af(o.uniqueQuerySelector,o.zIndex));return Promise.all(t)}return Promise.resolve([])}var Lt,_r,so,j=new ge,co=new fr(j);function Fl(e){Lt&&Lt.extendEventData(e)}function Ke(){return Lt?.getEventData()||{}}function Pf(){return Ke()?.resolved_trigger_config?.name}function Bl(){Lt=void 0}function $l(e){return{resolved_form_id:e.form_id,resolved_form_profile:e.form_profile,trigger_type:e.trigger_type,trigger_count:e.trigger_count}}function Ml(){j.closeOverlay(),Bl()}function Ul(e){return!j.isOverlayOpen()&&e.overlay_eligible&&e.trigger_type&&e.trigger_count>-1&&e.trigger_count!==null}function vi(e){i.push({trigger:y.PWO_OPEN_ATTEMPT}),_r.triggerOverlay(e.form_id),so.addAttributesToUserProfile({blackcrow_exposed_population_bucket:Pf(),bcai_trigger:e.trigger_type,profile:e.form_profile})}function Tf(e){return so.isUserIdentified().then(o=>{!o.some(n=>n===!0)&&co.canOpenStandardOverlay()&&(j.openStandardOverlay(),vi(e))})}function kf(e,t){let o=_r.name??"unknown";i.error(new Error(`[${ve.toUpperCase()}] error when triggering overlay for creative "${e?.form_id}" on ${o} due to error "${t.message}".`))}function xf(e){let t=()=>Tf(e).catch(o=>kf(e,o));h.setTimeout(t,e.trigger_count*1e3)}function Vl(e){ao()>=e.trigger_count&&Tf(e).catch(o=>kf(e,o))}function ql(e){function t(){if(!e.overlay_eligible){let o=Ke();return!o.channel_excluded&&!o.identified&&!o.pii_submitted}return!0}return t()&&co.canOpenAtcOverlay()}function Gl(e){Ke()?.resolved_trigger_config?.triggerBuckets?.showOverlayOnATC&&P("platform",y.ADD_TO_CART,()=>{ql(e)&&(j.openAtcOverlay(),vi(e),bf(_t(ve)?.styleSettings))})}function Wl(e){let t=e?.apps?.pwo;if(t){Fl({...$l(t)});let o=Pf();if(so.addAttributesToUserProfile(I({},{blackcrow_all_population_bucket:o,blackcrow_eligible_population_bucket:t?.overlay_eligible?o:void 0})),Gl(t),Ul(t))switch(t.trigger_type){case sr.DELAY:xf(t);break;case sr.SESSION_VIEW_COUNT:Vl(t);break;case sr.EXIT_INTENT:P("platform",y.EXIT_INTENT,()=>{co.canOpenExitOverlay()&&xf(t)});break;default:}}else i.error(new Error(`[${ve.toUpperCase()}] missing "pwo" in response: ${JSON.stringify(e)}`))}function Hl(e,t){return L(e,t,o=>{Wl(o)}),{eventName:e,eventData:t}}async function jl(e){try{if(e.renderer&&e.isIdentified&&mn()){await e.renderer;let t=await e.isIdentified;Lt=wi(t),await Hl(T.PWO_DECISION,Lt.getEventData())}}catch(t){i.error(t)}}function Kl(){se("platform",y.EXIT_INTENT)}function Jl(){P("platform",y.VIEW_RESPONSE,()=>{mn()&&(P("platform",y.PWO_CLOSE,t=>{let o=Ke(),r=o?.resolved_form_id,n=j.isOverlayOpen(),a=t?.rendered_form_id;L(T.PWO_CLOSE,I(t,o,{bcai_triggered:n,overlay_triggered_by_atc:j.isOverlayOpenedByATC(),overlay_triggered_by_seu:j.isOverlayOpenedByExitTrigger()})),j.closeOverlay(),n&&(r===a||!a)&&j.setOverlayClosedCookie()}),P("platform",y.PWO_EMAIL_LEAD,t=>{ge.submitPII(),L(T.PWO_EMAIL_LEAD,I(t,Ke(),{bcai_triggered:j.isOverlayOpen(),overlay_triggered_by_atc:j.isOverlayOpenedByATC(),overlay_triggered_by_seu:j.isOverlayOpenedByExitTrigger()}))}),P("platform",y.PWO_SMS_LEAD,t=>{ge.submitPII(),L(T.PWO_SMS_LEAD,I(t,Ke(),{bcai_triggered:j.isOverlayOpen(),overlay_triggered_by_atc:j.isOverlayOpenedByATC(),overlay_triggered_by_seu:j.isOverlayOpenedByExitTrigger()}))}),P("platform",y.PWO_IMPR,t=>{let o=I(t,Ke(),{bcai_triggered:j.isOverlayOpen(),overlay_triggered_by_atc:j.isOverlayOpenedByATC(),overlay_triggered_by_seu:j.isOverlayOpenedByExitTrigger()});j.overlayOpenedEvent(o),L(T.PWO_IMPR,o)}),P("platform",y.PWO_OPEN_ATTEMPT,t=>{let o=I(t,Ke());j.openAttemptEvent(o),L(T.PWO_OPEN_ATTEMPT,o)}),_t(ve)?.overlayBuckets?.triggerBuckets?.showSecondOverlayOnExitIntent&&P("platform",y.EXIT_INTENT,()=>{let t=Ke();co.canOpenExitOverlay()&&wf()&&!t.identified&&(j.openExitOverlay(),vi({trigger_type:y.EXIT_INTENT,form_id:t.resolved_form_id,form_profile:t.resolved_form_profile}))}))})}function Yl(){let e={},t=_t(ve),o=t.renderer?.toLowerCase();if(w())i.error(new C("[PWO] Disabled while running in WebPixelManager."));else if(o===void 0)i.error(new Error("[PWO] No configured overlay renderer"));else{let r=t.identifyPlatforms;try{_r=new dr(o),so=new lr(r||[o]),j.setOverlayClosedDuration(t?.overlayClosedCookieDuration),co.setMaxTotalOverlays(t?.overlayBuckets?.triggerBuckets?.maxTotalOverlays),e.isIdentified=so.isUserIdentified(),e.renderer=_r.setup(),Jl(),hf(Kl)}catch(n){i.error(n)}}return e}var Cf={appName:ve,init:Yl,sendAppScores:jl,cleanup:Ml};var Si="cordial";function Xl(e,t,o){let r=`${c}`,n=F([r,e.integration_product]),a=S(window,"crdl");if(typeof a=="function"){let u={app_name:t,integration_product:e.integration_product,conversion_product:e.conversion_product,conversion_type:e.conversion_type,comparison_population:e.comparison_population,comparison_group:e.comparison_group,comparison_type:e.comparison_type,threshold_setter:e.threshold_setter,threshold_group_count:e.threshold_group_count,score:B(e.score)};a("event",n,u),typeof o=="function"&&o(Si,n)}else throw new Error(x)}var Ii={name:Si,send:H(Si,Xl)};var fo=window.GoogleAnalyticsObject||"ga";window[fo]=window[fo]||function(){(window[fo].q=window[fo].q||[]).push(arguments)};var zL=window[fo];window.dataLayer=window.dataLayer||[];function zl(){return typeof window.gtag=="function"?window.gtag.toString()!=="function () { }":!1}var Je=zl()?window.gtag:function(){window.dataLayer.push(arguments)};function uo(){return A("_ga")?.split(".")?.slice(-2).join(".")}function Ai(e,t){if(w()){let r=M(e,t).tracking_id;return r!=null&&r.startsWith("UA-")&&uo()!==void 0}if(Array.isArray(window.dataLayer)){let o=!1;return v(window.dataLayer,r=>{r[0]==="config"&&r[1]&&r[1].indexOf("UA-")===0&&(o=!0)}),o}return!1}function bi(e,t){if(w()){let r=M(e,t).tracking_id;return r!=null&&r.startsWith("G-")&&uo()!==void 0}if(Array.isArray(window.dataLayer)){let o=!1;return v(window.dataLayer,r=>{r[0]==="config"&&r[1]&&r[1].indexOf("G-")===0&&(o=!0)}),o}return!1}var hr="event",Se="google_analytics",Ql="https://www.google-analytics.com/collect",Zl="https://www.google-analytics.com/g/collect";function eg(e,t){if(!w()){let r=M(e,Se).tracking_id;if(r){let n=document.createElement("script");n.src=`https://www.googletagmanager.com/gtag/js?id=${r}`,n.async=!0,document.getElementsByTagName("head")[0].appendChild(n),Je("js",new Date),Je("config",r,{send_page_view:!1})}}t()}function tg(e,t,o,r,n){let a=new URL(Ql);a.search=ue({v:1,t:hr,tid:e,cid:uo(),ec:t,ea:o,el:r,ua:te(),dl:b(),dt:document.title,ni:1}),U(a.toString(),{method:"GET",mode:"cors"},n)}function og(e,{onSuccess:t,eventPrefix:o,integrationProduct:r,conversionProduct:n,conversionType:a,comparisonType:u,thresholdSetter:f,thresholdGroupCount:s,comparisonPopulation:g,score:_}){let E=new URL(Zl);E.search=ue({v:2,tid:e,en:hr,cid:uo(),dl:b(),dt:document.title,ep:{app_name:o,integration_product:r,conversion_product:n,comparison_population:g,comparison_type:u,conversion_type:a,threshold_setter:f,threshold_group_count:s,non_interaction:!0},epn:{score:_}}),U(E.toString(),{method:"POST",mode:"cors"},t)}function Nf(e,t,o,r,n,a,u,f,s){let g={};return g.category=F([e,t,o,r]),g.action=F([n,a,u,f]),g.label=s,g}function rg(e,{onSuccess:t,eventPrefix:o,integrationProduct:r,conversionProduct:n,conversionType:a,comparisonType:u,thresholdSetter:f,thresholdGroupCount:s,comparisonPopulation:g,score:_}){let E=M(e,Se);if(E.pageBlocked)return;let R=window.GoogleAnalyticsObject?window[window.GoogleAnalyticsObject]:window.ga,$=Nf(o,r,n,a,u,f,s,g,_),he=$.category,Fe=$.action,ze=$.label;function Ve(){typeof t=="function"&&t(Se,{eventCategory:he,eventAction:Fe,eventLabel:ze})}if(Ai(e,Se))Je("event",Fe,{event_category:he,event_label:ze,non_interaction:!0}),Ve();else if(bi()){let It=F([o,r],"_");Je("event",It,{non_interaction:!0,app_name:o,integration_product:r,conversion_product:n,conversion_type:a,comparison_population:g,comparison_type:u,threshold_setter:f,threshold_group_count:s,score:_}),Ve()}else if(typeof R=="function"){let It=h.setTimeout(()=>{i.error(new C(`${Se} ready hook not fired`))},5e3);R(ts=>{if(clearTimeout(It),!(ts&&ts.get("trackingId"))){let xo=E.tracking_id;xo||v(R.getAll(),Rp=>{let os=Rp.get("trackingId");if(os)return xo=os,!1}),xo?R("create",xo,"auto"):i.error(new to(`${Se} tracking id not found`))}R("send",{hitType:hr,eventCategory:he,eventAction:Fe,eventLabel:ze,nonInteraction:!0}),Ve()})}else throw new Error(x)}function ng(e,{onSuccess:t,eventPrefix:o,integrationProduct:r,conversionProduct:n,conversionType:a,comparisonType:u,thresholdSetter:f,thresholdGroupCount:s,comparisonPopulation:g,score:_}){let E=Nf(o,r,n,a,u,f,s,g,_),R=E.category,$=E.action,he=E.label;function Fe(){typeof t=="function"&&t(Se,{eventCategory:R,eventAction:$,eventLabel:he})}if(Ai(e,Se)){let Ve=M(e,Se).tracking_id;tg(Ve,R,$,he,Fe)}else if(bi(e,Se)){let Ve=M(e,Se).tracking_id;og(Ve,{onSuccess:Fe,eventPrefix:o,integrationProduct:r,conversionProduct:n,conversionType:a,comparisonType:u,thresholdSetter:f,thresholdGroupCount:s,comparisonPopulation:g,score:_})}else throw new Error(x)}function ig(e,t,o){let r=`${c}_${t}`;function n(u){u.message===x?i.error(new C(`${Se} globals not found`),{appName:t}):i.error(u)}if(!e)return;let a=w()?ng:rg;N(()=>a(t,{onSuccess:o,eventPrefix:r,integrationProduct:e.integration_product,conversionProduct:e.conversion_product,conversionType:e.conversion_type,comparisonType:e.comparison_type,thresholdSetter:e.threshold_setter,thresholdGroupCount:e.threshold_group_count,comparisonPopulation:e.comparison_population,score:B(e.score)}),n)}var xi={eventHitType:hr,name:Se,setup:eg,send:ig};var Dt="google_ads",ag="www.googleadservices.com",sg="_gcl_au";function yr(e){return M(e,Dt)?.conversion_id}function Of(e){return yr(e)?.split("-").splice(-1).join()}function cg(){return A(sg)?.split(".").splice(-2).join(".")}function Rf(e){let t=b(),o=ce(),r=At(),n=Date.now(),a=cg(),u={data:`event=${e};non_interaction=true`,fst:n,random:n,auid:a,url:t,ref:o,tiba:r,hn:ag,rfmt:3,fmt:4,async:1,cv:11,guid:"ON"};return ue(u)}var fg="event",ug="https://googleads.g.doubleclick.net/pagead/viewthroughconversion";function pg(e,t){if(!w()){let o=yr(e);if(o){let r=document.createElement("script");r.src=`https://www.googletagmanager.com/gtag/js?id=${o}`,r.async=!0,document.getElementsByTagName("head")[0].appendChild(r),Je("js",new Date),Je("config",o)}}t()}function mg(){if(Array.isArray(window.dataLayer)){let e=!1;return v(window.dataLayer,t=>{t[0]==="config"&&t[1]&&t[1].indexOf("AW-")===0&&(e=!0)}),e}return!1}function dg(e,t,o){let r=Of(t),n=Rf(e);try{Ze(`${ug}/${r}/?${n}`),o()}catch(a){i.error(new Error(`${Dt} api call failed with ${a}`))}}function lg(e,t,o){if(mg())Je("event",e,{send_to:yr(t),non_interaction:!0}),o();else throw new Error(x)}function gg(e,t,o){let r=`${c}_${t}`,n=F([r,e.integration_product,e.conversion_product,e.conversion_type,e.comparison_type,e.threshold_setter,e.threshold_group_count,e.comparison_population,`score_${B(e.score)}`]);function a(){typeof o=="function"&&o(Dt,{event:n})}w()?dg(n,t,a):lg(n,t,a)}var Pi={eventHitType:fg,name:Dt,setup:pg,send:H(Dt,gg)};var Ti="heap";function _g(e,t,o){let r=S(window,"heap");if(r&&typeof r.addUserProperties=="function"){let a={[F([c,e.comparison_group,e.threshold_group_count])]:e.score};r.addUserProperties(a),typeof o=="function"&&o(Ti,a)}else throw new Error(x)}var ki={name:Ti,send:H(Ti,_g)};var po="klaviyo";function hg(e,t){if(!w()){let o=M(e,po).api_key,r=window._learnq?window._learnq.identify:null;if(o&&typeof r!="function"){let n=document.createElement("script");n.src=`https://static.klaviyo.com/onsite/js/klaviyo.js?company_id=${o}`,n.async=!0,document.getElementsByTagName("head")[0].appendChild(n)}}t()}async function Lf(e,t,o,r){try{let n=function(){typeof r=="function"&&r(po,t)},u=function(){let f=B(o.score),s={[t]:f};return a&&I(s,{$email:a}),s},a=await fe();if(w()){let f=M(e,po).api_key;f&&U(`https://a.klaviyo.com/api/onsite/identify?c=${f}`,{body:JSON.stringify({token:f,properties:u()}),method:"POST",mode:"cors",credentials:"omit"},n())}else window._learnq||(window._learnq=[],i.error(new C(`${po} globals not found`))),window._learnq.push(["identify",u()]),n()}catch(n){i.error(n)}}var Df={},Ci={};function yg(e){let t=Df[e];return()=>{Lf(t.appName,t.eventName,t.scoreObj,t.onSuccess)}}function Eg(e,t,o){if(!e)return;let r=F([`${c}`,"score",e.threshold_group_count,e.comparison_group]);e.name!==void 0&&(Df[e.name]={appName:t,eventName:r,scoreObj:e,onSuccess:o},Ci[e.name]===void 0&&(Ci[e.name]=yg(e.name)),h.addListener(window,"beforeunload",Ci[e.name])),h.setTimeout(()=>Lf(t,r,e,o),5e3)}var Ni={name:po,setup:hg,send:Eg};var wg="event",Er="microsoft_ads";function vg(e,{onSuccess:t,eventCategory:o,eventAction:r,eventLabel:n,eventValue:a}){function u(){typeof t=="function"&&t(Er,{event_category:o,event_action:r,event_label:n,event_value:a})}try{window.uetq=window.uetq||[],window.uetq.push("event",r,{event_category:o,event_label:n,event_value:a}),u()}catch{i.error(new C(`${Er} globals not found`),{appName:e})}}function Sg(e,t){let r=M(e,Er).tracking_id;r?function(n,a,u,f,s){var g,_,E;n[s]=n[s]||[],g=function(){var R={ti:r};R.q=n[s],n[s]=new UET(R),n[s].push("pageLoad"),t()},_=a.createElement(u),_.src=f,_.async=1,_.onload=_.onreadystatechange=function(){var R=this.readyState;R&&R!=="loaded"&&R!=="complete"||(g(),_.onload=_.onreadystatechange=null)},E=a.getElementsByTagName(u)[0],E.parentNode.insertBefore(_,E)}(window,document,"script","//bat.bing.com/bat.js","uetq"):t()}function Ig(e,t,o){let r=`${c}_${t}`;if(!e)return;let n=e.integration_product,a=F([r,n,e.conversion_product,e.conversion_type]),u=F([e.comparison_type,e.threshold_setter,e.threshold_group_count,e.comparison_population,e.comparison_group]),f,s;if(n==="prospecting")s=e.raw_probability;else{f=B(e.score);let g=Number(e.score);g>=0&&(s=g)}vg(t,{onSuccess:o,eventCategory:a,eventAction:u,eventLabel:f,eventValue:s})}var Oi={eventHitType:wg,name:Er,setup:Sg,send:Ig};var Ri="oracle_responsys";function Ag(e,t,o){let r=S(window,"ORA.click");if(typeof r=="function"){let n=B(e.score);r({data:{bc_score:n,"wt.dl":99}}),typeof o=="function"&&o(Ri,n)}else throw new Error(x)}var Li={name:Ri,send:H(Ri,Ag)};var Ff="track";var Di="outbrain";function bg(e,t,o){let r=S(window,"obApi");if(typeof r=="function"){let n=`${c}`,a=e.integration_product,u=F([n,a,e.threshold_group_count,B(e.score)]," ").replace(/[^0-9a-z\s]/gi,"");r(Ff,u),typeof o=="function"&&o(Di,u)}else throw new Error(x)}var Fi={name:Di,send:H(Di,bg)};var Et="pinterest",Bi=`${c}`;function $i(e){return{lead_type:e.integration_product,video_title:e.conversion_product,order_id:e.conversion_type,property:e.comparison_group,promo_code:e.comparison_type,search_query:e.threshold_setter,order_quantity:B(e.threshold_group_count),value:B(e.score)}}function Bf(e,t,o){let r=A("_pin_unauth"),n=A("_derived_epik"),a={event:Bi,ed:t,tid:e,pd:{...r&&{pin_unauth:r},...n&&{derived_epik:n}}};return o&&(a.ad={loc:b(),ref:document.referrer}),a}function xg(e,t,o){let r=M(t,Et).tracking_id;if(r){let n="https://ct.pinterest.com",a=$i(e),u=Bf(r,a,!1),f=ue(u,!1);U(`${n}/user/?${f}`,{method:"GET"},o,()=>i.error(new Error(`${Et} api call failed`)));let s=Bf(r,a,!0),g=ue(s,!1);U(`${n}/v3/?${g}`,{method:"GET"},o,()=>i.error(new Error(`${Et} api call failed`)))}}async function Pg(e,t){try{let o=$i(e);if(M(t,Et).advancedMatching){let n=await fe();I(o,{em:n})}return o}catch(o){return i.error(o),$i(e)}}function Tg(e,t,o){if(w())xg(e,t,o);else{let r=S(window,"pintrk");if(typeof r!="function")throw new Error(x);Pg(e,t).then(n=>{r("track",Bi,n),typeof o=="function"&&o(Et,Bi)}).catch(n=>i.error(n))}}var Mi={name:Et,send:H(Et,Tg)};var wt="snapchat",wr="_scid",vr="u_sclid",Sr="u_scsid",qi="snaptr",Vi={};function Ir(e,{getItem:t,setItem:o},r,n=Yt){return!t||!o?(i.error(new Error("Storage object is not valid")),Promise.resolve()):Promise.resolve(t(e)).then(a=>{let u=a;u||(u=n(),o(e,u)),r(u)}).catch(a=>{i.error(a)})}function Ui(e){return Vi[e]}function Ar(e,t){return Vi[e]=t,Vi[e]}function kg(e){return M(e,wt)?.pixel_id}function $f(e,t){let o=kg(t),r=Qe("navigation")[0],n=Qe(qi)[0];return{pid:o,ev:e.score,pl:b(),rf:ce(),ts:Date.now(),trackId:Yt(),u_c1:Ui(wr),u_sclid:Ui(vr),u_scsid:Ui(Sr),m_dcl:r?.domContentLoadedEventEnd,m_pi:r?.domInteractive,m_pl:r?.loadEventEnd,m_pv:r?"v2":"v1",m_rd:Math.floor(To()),m_sl:n?.startTime,v:"2.0.0",bt:"1d53c387",if:!1}}function mo(e){if(typeof Promise.allSettled=="function")return Promise.allSettled(e);let t=e.map(o=>Promise.resolve(o).then(r=>({status:"fulfilled",value:r}),r=>({status:"rejected",reason:r})));return Promise.all(t)}function Re(e,t){try{window.sessionStorage.setItem(e,JSON.stringify(t))}catch{}}var Cg="https://tr.snapchat.com/p";function Mf(e,t){return w()?mo([Ir(wr,{getItem:globalThis.browser?.cookie?.get,setItem:globalThis.browser?.cookie?.set},o=>{Ar(wr,o)}),Ir(vr,{getItem:Ee,setItem:me},o=>{Ar(vr,o)}),Ir(Sr,{getItem:oe,setItem:Re},o=>{Ar(Sr,o)})]).finally(t):t()}function Ng(e,t,o){let r=$f(e,t);U(`${Cg}`,{method:"POST",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ue(r)},()=>{typeof o=="function"&&o(wt,`${c},${e.score}`)},()=>{i.error(`Unable to send scores to ${wt}.`)})}function Og(e,t,o){let r=S(window,qi);if(typeof r=="function"){if(r("track",e.score),typeof o=="function"){let n=`${c}`,a=F([n,e.score]);o(wt,a)}}else throw new Error(x)}function Rg(e,t,o){return w()?Ng(e,t,o):Og(e,t,o)}var lo={name:wt,identify:Mf,setup:Mf,send:H(wt,Rg)};var Gi="taboola";function Lg(e,t,o){if(!e)return;window._tfa===void 0&&(window._tfa=[],i.error(new C(`${Gi} globals not found`),{appName:t}));let r=`${c}`,n=e.integration_product,a=F([r,n,e.threshold_group_count,B(e.score)],"_");window._tfa.push({notify:"event",name:a}),typeof o=="function"&&o(Gi,a)}var Wi={name:Gi,send:Lg};function Dg(){return"product"}async function Hi(){try{let e={},t=await fe();return t&&(t=t.toLowerCase()),e.email=t,e}catch(e){return i.error(e),{}}}function br(e,t){let o=F([`${c}_${e}`,t]),r=Dg();return{content_id:o,content_type:r}}function Uf(e){let t={context:{page:{referrer:document.referrer,url:b()},pixel:{code:e},userAgent:te()}},o={},r=A("_ttp");return r&&(o.anonymous_id=r),Hi().then(Zo).then(n=>{let a={...o,...n};return t.context.user=a,t}).catch(n=>i.error(n))}function ji(e,t,o,r){return Uf(e).then(n=>(n.event=t,n.properties=br(r,o),n))}function Vf(e){return Uf(e).then(t=>(t.event="EnrichAM",t))}var go="tiktok",Fg="https://analytics.tiktok.com/api/v2/pixel";function Bg(e){let t=window.ttq;return t&&t.instances()&&Array.isArray(t.instances())?!!t.instances().find(o=>e===o.pixelCode&&o.loaded):!1}function Ki(){return D("tiktokAccounts")||[]}function $g(e,t){w()||Ki().forEach(r=>{let n=r.pixelId;n&&!Bg(n)&&function(a,u,f){a.TiktokAnalyticsObject=f;var s=a[f]=a[f]||[];s.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],s.setAndDefer=function(_,E){_[E]=function(){_.push([E].concat(Array.prototype.slice.call(arguments,0)))}};for(var g=0;g<s.methods.length;g++)s.setAndDefer(s,s.methods[g]);s.instance=function(_){for(var E=s._i[_]||[],R=0;R<s.methods.length;R++)s.setAndDefer(E,s.methods[R]);return E},s.load=function(_,E){var R="https://analytics.tiktok.com/i18n/pixel/events.js";s._i=s._i||{},s._i[_]=[],s._i[_]._u=R,s._t=s._t||{},s._t[_]=+new Date,s._o=s._o||{},s._o[_]=E||{},E=document.createElement("script"),E.type="text/javascript",E.async=!0,E.src=R+"?sdkid="+_+"&lib="+f,_=document.getElementsByTagName("script")[0],_.parentNode.insertBefore(E,_)},s.load(n),s.page()}(window,document,"ttq")}),t()}function Ji(){i.error(new Error(`${go} api call failed`))}async function qf(e,t){try{let o=await fe(),r=await Xo();if(o||r){let n=e.pixelId,a=S(window,"ttq.instance");typeof a=="function"&&typeof a(n).identify=="function"&&(a(n).identify({email:o,phone_number:r}),t&&typeof t=="function"&&t())}}catch(o){i.error(o)}}function Yi(e,t,o){U(Fg,{body:JSON.stringify(e),method:"POST"},t,o)}async function Gf(e,t){try{let o=e.pixelId;if(o&&(await Hi()).email){let n=await Vf(o);Yi(n,t,Ji)}}catch(o){i.error(o)}}function Mg(e,t){let o=w();function r(a,u){return()=>{let s=(de(`${e}.integrations`)||[]).find(g=>go===g.platform);s&&s.scores&&s.scores.forEach(({score:g,integration_product:_})=>{o?ji(u,g,_,e).then(E=>{Yi(E,t,Ji)}):a(u).track(g,br(e,_))}),o||t&&typeof t=="function"&&t()}}Ki().forEach(a=>{let u=a.pixelId,f=S(window,"ttq.instance"),s=r(f,u);o?Gf(a,s):qf(a,s)})}function Wf(e,t){return function(){if(typeof e=="function"){let r=`${c}`,n=F([r,t.score]);e(go,n)}}}function Ug(e,t,o,r){let n=e.pixelId,a=S(window,"ttq.instance");if(n&&typeof a=="function")qf(e),t.score&&a(n).track(t.score,br(o,t.integration_product)),Wf(r,t)();else throw new Error(x)}function Vg(e,t,o,r){let n=e.pixelId;if(n)Gf(e).then(()=>{let a=t.score,u=t.integration_product;a&&(r=typeof r=="function"?Wf(r,t):void 0,ji(n,a,u,o).then(f=>{Yi(f,r,Ji)}))});else throw new Error(x)}function qg(e,t,o){Ki().forEach(n=>{w()?Vg(n,e,t,o):Ug(n,e,t,o)})}var _o={name:go,identify:Mg,setup:$g,send:H(go,qg)};function Xi({src:e,alt:t}){let o=document.createElement("img");return o.width=1,o.height=1,o.alt=t||"",o.src=e,o}var xr="tradedesk";function Gg(e,t,o){let n=M(t,xr).pixel_id,a=B(e.score)-1,u=e.comparison_type,f=e.conversion_product,s=e.threshold_group_count;n&&!w()&&O(()=>{if(Xi({src:`https://insight.adsrvr.org/track/pxl/?${n}&fmt=3&td1=blackcrow&td2=comparison_type|${u}&td3=comparison_product|${f}&td4=threshold_group_count|${s}&td5=score|${a}`}),typeof o=="function"){let g=`${c}`,_=F([g,e.score]);o(xr,_)}else throw new Error(x)})}var zi={name:xr,send:H(xr,Gg)};var st="target";var Pr={[Ii.name]:Ii,[Me.name]:Me,[xi.name]:xi,[Pi.name]:Pi,[ki.name]:ki,[Ni.name]:Ni,[Oi.name]:Oi,[Li.name]:Li,[Fi.name]:Fi,[Mi.name]:Mi,[lo.name]:lo,[Wi.name]:Wi,[_o.name]:_o,[zi.name]:zi};function Wg(e,t,o="score_push"){je(st,e,o),X(`${st} ${o}: ${e}`,t)}function Hg(e,t){t&&v(t,o=>{o.name&&Pr[e].send(o,st,Wg)})}function jg(){let e=or(st),t={};return e.forEach(o=>{let r=Pr[o];r!==void 0&&typeof r.setup=="function"?t[o]=new Promise(n=>r.setup(st,n)).catch(n=>{i.error(n)}):t[o]=Promise.resolve()}),t}function Kg(e){let t=de(`${st}.integrations`),o=[];return v(t,r=>{let n=r.platform,a=r.scores,u=Pr[n];e[n]&&o.push(e[n].then(()=>{u!==void 0&&typeof u.send=="function"&&Hg(n,a)}))}),Promise.all(o)}var Hf={appName:st,init:jg,platforms:Pr,sendAppScores:Kg};var ct="identity";var jf=G({name:"identity_kpi_sampling",allocations:[{percent:.1,value:!0}]});function Kf(e,t,o){jf&&z(`${e} platform request for ${t}`,{"platform.name":t,"event.name":o,appName:e})}function Jf(e,t){jf&&z(`${e} user request`,t)}function ho(){return{fb:window?.trekkie?.config?.S2S?.facebookCapiEnabled}}function yo(e,t){if(typeof t!="function")return;let o=window.fetch;window.fetch=(...r)=>o.apply(this,r).then(n=>{try{typeof r[0]=="string"&&r[0]?.match(e)&&t(n.clone())}catch(a){i.error(new pe(`Fetch Sniffer for "${e}" failing with "${a?.message}" possibly due to unexpected ${r}.`))}return n})}function Yf(e,t,o){let r=window.fetch;window.fetch=function(...n){try{if(typeof n[0]=="string"&&n[0]?.match(e)){if(o)return r.apply(this,n).then(h.setTimeout(()=>t(n),500));t(n)}}catch{i.error(new pe(`Fetch Intercept Error For URL: ${e}`))}return r.apply(this,n)}}function vt(e){let t=new Error(e);return t.name="InvalidResponseBodyError",t.status="warn",t.stack=K(t.stack,1),t}var Ft=/.*\/cart\/{1,2}add(\.js|\.json)?(\?.*)?$/gm;function Jg(e,t){return new Promise((o,r)=>{U(e,t,o,r)}).catch(o=>i.error(o))}var Xf=/.*(\/cart(\.json|\.js)|\/cart\/(change|update)(\.js|\.json)?)(\?.*)?$/gm,kr="_bcai_cs",zf=!1;function Tr(e){try{me(kr,e)}catch(t){i.error(t)}}function eu(){try{return qo(kr)}catch(e){i.error(e);return}}function Qi(){return window?.Shopify?.routes?.root?Jg(`${window.Shopify.routes.root}cart.js`):Promise.resolve()}function Qf(e){try{return JSON.parse(e)}catch(t){return i.error(new vt(t?.message)),null}}function Zf(e){let t=[e];e.items?.length&&(t=e.items);let o=t.reduce((u,f)=>{let s={...u};return f?.id!==void 0&&(s[f.id]=f),s},{}),r=eu();if(!r||!e||Object.keys(o).length===0)return;let n=(r.items??[]).map(u=>{let f={...u},s=o[f?.id];return f.quantityAdded=0,s&&(f.quantityAdded=s.quantity-f.quantity,f.quantity=s.quantity,delete o[f.id]),f});Object.keys(o).forEach(u=>{let f=o[u];n.push({...f,quantityAdded:f.quantity})});let a={...r,item_count:n.reduce((u,f)=>u+(f.quantity??0),0),total_price:(r.total_price??0)+n.reduce((u,f)=>u+f.quantityAdded*(f.price??0),0)};a.items=n.map(u=>(delete u.quantityAdded,u)),Tr(a)}function Yg(){w()||zf||(zf=!0,no(Xf,e=>{try{e=Qf(e),e&&Tr(e)}catch(t){i.error(t)}}),yo(Xf,e=>{e.json().then(t=>Tr(t),t=>{i.error(new vt(t?.message))}).catch(t=>i.error(t))}),no(Ft,e=>{try{e=Qf(e),e&&Zf(e)}catch(t){i.error(t)}}),yo(Ft,e=>{e.json().then(t=>Zf(t),t=>{i.error(new vt(t?.message))}).catch(t=>i.error(t))}))}function Xg(){if(w())return Promise.resolve();let e=eu();return e?Promise.resolve(e):Qi().then(t=>(t&&Tr(t),t))}var Eo={setup:Yg,getData:Xg};async function Bt(e,t,o,r){try{let n=Q(t);if(n.length){let a={site_name:p,metadata:Jo(),device_info:te(),page_url:b(),page_referrer_url:ce(),page_title:At(),platform_name:e,platform_event_name:o,ids:n,user_data:{fbc:A(Do),fbp:A(et),lit:A(Lo),sh:{ct:await cs("cart")||(await Ee(kr))?.token,ch:ac()}},resolved_score:await oe(qt),capi:ho()},u={fb_test_event_code:A("fb_test_event_code")};gc(I(a,r,u)),Kf(ct,e,o)}}catch(n){i.error(n)}}var tu="klaviyo",Cr;function zg(e){return e==="track"}function Qg(e){return e.overrideSampling=!0,e.message=`identity: ${e.message}`,e}function Zg(e){return t=>{t.message===`identity: ${x}`?i.error(new C(e)):i.error(t)}}function Zi(e,t){zg(t[0])&&Bt(tu,e,t[1],{data:t[2]})}function e_(e){Array.isArray(window._learnq)&&window._learnq.forEach(t=>{Zi(e,t)})}function t_(e){if(typeof window._learnq.push=="function"){let t=window._learnq.push;window._learnq.push=function(...o){let r=t.apply(this,o);try{let n=o[0];return Zi(e,n),r}catch(n){return i.error(n),r}}}}function o_(e){function t(){let o=Cr.apply(this,arguments);try{let r=arguments?Array.prototype.slice.call(arguments[0]):[];return Zi(e,r),o}catch(r){return i.error(r),o}}window._learnq.push&&typeof Cr!="function"&&(Cr||(Cr=window._learnq.push),window._learnq.push=t)}function r_(e,t){window._learnq=window._learnq||[],!w()&&(window._learnq?._loaded||(e_(t),t_(t)),N(()=>{if(window._learnq?._loaded){o_(t);return}throw Qg(new Error(x))},Zg("Klaviyo platform load not detected."),500,10))}var ea={name:tu,setup:r_};var vo="facebook_ads";function n_(e){return e==="track"}function ou(e,t,o,r,n){n_(t)&&Bt(vo,e,o,{data:r,platform_event_id:n?.eventID})}var wo=[];function i_(e=[]){wo=wo.concat(e.filter(t=>!wo.includes(t)))}function a_(){return wo}function s_(){wo=[]}function c_(e,t){if(!window.fbq?.alreadyIntercepted)if(typeof window.fbq?.getState=="function"){let o=window.fbq;window.fbq=(...r)=>{ou(t,...r),o(...r)},Object.keys(o).forEach(r=>{Object.defineProperty(window.fbq,r,{set:n=>{o[r]=n},get:()=>o[r]})}),window.fbq.alreadyIntercepted=!0,a_()?.forEach(([...r])=>{ou(t,...r)}),s_()}else throw new Error(`${vo} pixel not yet loaded for ${e}.`)}function f_(e,t){let o=[];if(t?.length){let r=Ko(e);t.forEach(n=>{let a=n?.loadPixel===!0,u=n?.pixelId,f=o.includes(u);a&&u&&!f&&r&&(o.push(u),nr(u,r))})}}function u_(e,t){if(w())return;let o=ht(e).platforms?.filter(r=>r.platform?.toLowerCase()===vo);f_(t,o),N(()=>{i_(window.fbq?.queue),c_(e,t)},()=>i.error(new C(`${vo} pixel not present for ${e}.`),300))}var ta={name:vo,setup:u_};function p_(){return new Promise((e,t)=>N(()=>{if(window.Shopify.checkout)return e(window.Shopify.checkout);throw new C("Shopify checkout object missing")},o=>{i.error(o),t(o)},100))}function m_(){if(!window.Shopify)throw new C("Shopify global missing")}function d_(e){N(()=>{m_(),e()},o=>i.error(o),300,300)}var St={setup:d_,getShopifyCheckout:p_};var ru="AddPaymentInfo";function l_(e,t){return e.target.matches(`${["#continue_button",...t].filter(o=>!!o).join(",")}`)}function g_(){return Y()?.replace(/\/$/,"").split("/").pop()}function __(e,t){w()||St.setup(()=>{Ne()==="payment"&&h.addListener(document,"click",o=>{l_(o,t?.additionalSelectors??[])&&Eo.getData().then(r=>{let n=JSON.parse(JSON.stringify(r)),a=zo();a&&(n.total_price=a),e(ru,{data:r,platform_event_id:g_()})})},!0)})}var nu={eventName:ru,setup:__};var oa="AddToCart",iu=!1;function au(e,t){return e?!e[t]&&e[t]!==0:!0}function h_(e,t={}){if(!iu){iu=!0;let o=async r=>{try{let n=r?.items||[r];if(t?.fetchAdditionalData)try{let u=await(await Qi()).json();n.forEach((f,s)=>{let g=u?.items?.find(_=>_?.id===f?.id);n[s]={...g,...f}})}catch{}n.forEach(a=>{let u={...a};if(au(u,"id")||au(u,"quantity")){i.error(new vt(`SHOPIFY ${oa} addToCart request did not return valid item: ${JSON.stringify(u)}`));return}delete u.sections,u.currency=it(),e(oa,{data:u})})}catch(n){i.error(n)}};no(Ft,r=>{let n=JSON.parse(r);o(n)}),yo(Ft,r=>{r.json().then(n=>{o(n)})})}}var su={eventName:oa,setup:h_};var y_=["button#checkout[type=submit]","button#checkout[type=submit] *","button[name=checkout]","button[name=checkout] *","input[id*=checkout][type=submit]","input[id*=checkout][type=submit] *",'[href*="/checkout"]','[href*="/checkout"] *',"button.rebuy-cart__checkout-button","button.rebuy-cart__checkout-button *","i.rebuy-button-icon","i.rebuy-button-icon *",'form[action="/cart"] [name="checkout"]','form[action="/cart"] [name="checkout"] *'],E_=["#dynamic-checkout-cart button","#dynamic-checkout-cart button *","#dynamic-checkout-cart [role=button]","#dynamic-checkout-cart [role=button] *",".additional-checkout-buttons button",".additional-checkout-buttons button *",".additional-checkout-buttons [role=button]",".additional-checkout-buttons [role=button] *"];function w_(e,t){return e.target.matches(`${[...y_,...E_,...t].filter(o=>!!o).join(",")}`)}function v_(e,t,o){if(w_(e,t?.additionalSelectors??[])&&e.isTrusted){let r=e.target.parentNode?.form;(!r||r.checkValidity())&&o()}}function S_(e,t){return new Promise(o=>{O(()=>{["click",...t?.additionalListeners?.length?t.additionalListeners:[]].forEach(r=>h.addListener(document,r,n=>v_(n,t,e),!0)),o()})}).catch(o=>i.error(o))}var cu={setup:S_};function ra(e){let t=new Error(e);return t.name="BadRenderError",t.status="warn",t.stack=K(t.stack,1),t}var I_=new Promise(e=>{O(e)}),A_="div.paypal-checkout-sandbox";function b_(e){return new MutationObserver(t=>{t.forEach(o=>{o.addedNodes.forEach(r=>{r instanceof Element&&r.matches(A_)&&e()})})})}async function x_(e){try{if(w())return;await I_;let t=b_(e);N(()=>{if(!(document.body instanceof Node))throw new Error;t.observe(document.body,{childList:!0})},()=>{i.error(new ra(`document.body did not render in time and had value: ${document.body}`))})}catch(t){i.error(t)}}var fu={setup:x_};var uu="InitiateCheckout";function P_(e,t){if(Ct())return Promise.resolve();Eo.setup();let o=()=>{Eo.getData().then(r=>{e(uu,{data:r})})};return Promise.all([cu.setup(o,t),fu.setup(o)])}var pu={eventName:uu,setup:P_};var mu="PageView";function T_(e){e(mu)}var du={eventName:mu,setup:T_};var gu="Purchase";function lu(e){return["order_id","line_items","total_price_set.shop_money.currency_code","total_price_set.shop_money.amount"].every(t=>S(e,t)!==void 0)}function k_(e){if(window.cart_json){let{line_items:t,currency:o,total_price:r}=window.cart_json;return I({},e,{line_items:t,total_price_set:{shop_money:{currency_code:o,amount:r}}})}return e}function C_(e){function t(o){e(gu,{data:{...o},platform_event_id:o.order_id})}P("platform",y.VIEW_RESPONSE,()=>{St.setup(()=>{D("page.log_purchase")&&St.getShopifyCheckout().then(o=>{if(lu(o))return t(o);let r=k_(o);if(lu(r))return t(r);throw new C("Shopify checkout required fields are missing")}).catch(o=>i.error(o))})})}var _u={eventName:gu,setup:C_};function hu(e,t){return I({},{content_ids:t?.map(o=>o?.product_id).filter(o=>o),currency:e?.currency,content_type:"product_group",num_items:t?.reduce((o,r)=>o+(r?.quantity?r.quantity:0),0)})}function N_(e){let t=e?.line_items??[];return I(hu(e,t),{order_id:e?.order_id,currency:e?.total_price_set?.shop_money?.currency_code,value:e?.total_price_set?.shop_money?.amount,contents:t?.map(o=>({id:o?.product_id,quantity:o?.quantity,item_price:o?.price,title:o?.title}))})}function yu(e){function t(r){return I({},{id:r?.product_id,quantity:r.quantity,item_price:Tt(r.price),title:r.product_title,description:r.product_description,category:r.product_type})}let o=e?.items??[];return I(hu(e,o),{value:zo()||Tt(e?.total_price),contents:o?.map(r=>t(r))})}function O_(e){let t={};return e?.items?.length?t=JSON.parse(JSON.stringify(e?.items[0])):e&&(t=JSON.parse(JSON.stringify(e))),{content_category:t.product_type,content_ids:t.product_id?[t.product_id]:[],content_name:t.title,content_type:"product_group",currency:t.currency||it(),num_items:t.quantity||1,value:t.price?Tt(t.price):void 0}}function R_(e){let t={...yu(e)};return delete t?.num_items,t}function L_(e){return I({},{content_category:e?.type,content_ids:e?.id&&[e?.id],content_name:e?.title,content_type:"product_group",currency:e?.currency,value:Tt(e?.price)})}var D_={addtocart:{eventName:"AddToCart",convert:O_},purchase:{eventName:"Purchase",convert:N_,isValid:e=>e?.total_price_set?.shop_money?.currency_code&&e?.total_price_set?.shop_money?.amount},addpaymentinfo:{eventName:"AddPaymentInfo",convert:R_},viewedproduct:{eventName:"ViewContent",convert:L_},pageview:{eventName:"PageView"},initiatecheckout:{eventName:"InitiateCheckout",convert:yu}};function Eu(e,{data:t}={}){let o=D_[e?.toLowerCase()];if(!o||o.isValid&&!o.isValid(t))return;let r=o.convert&&o.convert(t);return{eventName:o.eventName,data:r}}function na(e,t){return e.filter(o=>o.eventSource==="shopify"&&o.originalEventName===t)}var ia="facebook_ads",wu=[],Nr;function F_(e,t,o){function r(){let n=Ko(e);Qn(t,ia).forEach(u=>{let f=u?.loadPixel===!0,s=u?.pixelId,g=wu.includes(s);f&&s&&!g&&n&&(wu.push(s),nr(s,n))})}o.includes("facebook_ads")?N(()=>{let n=window?.trekkie?.config?.S2S?.facebookCapiEnabled;if(typeof n=="boolean")n?Nr=!1:(Nr=!0,r());else throw new Error("Trekkie facebookCapiEnabled not loaded.")},()=>i.error(new C("Trekkie not loaded")),100):(Nr=!0,r())}function B_(e,t,o="identity"){if(!Nr)return;let r=Eu(e,t);Qn(o,ia).forEach(n=>{let a=na(n?.eventTrackers||[],e);function u(f,s){return f&&s&&r&&window.fbq&&n.pixelId}a.forEach(f=>{let s=f?.overrideEventName||f?.originalEventName;u(f,s)&&window.fbq("trackSingle",n.pixelId,s,r?.data,{eventID:t?.platform_event_id})})})}var aa={name:ia,setup:F_,sendEvent:B_};var vu={[aa.name]:aa},Su,Iu,sa,ca;function $_(e,t,o,{browserEventPlatforms:r,validatePlatforms:n}={}){Su=e,Iu=t,sa=o,ca=r??[],n=n??[],ca.forEach(a=>{vu[a]?.setup(sa,t,n)})}function M_(e,t={},{browserEventPlatforms:o}={}){let r=o??ca;t.platform_event_id||(t.platform_event_id=Yt()),Bt(Su,sa,e,t),r.forEach(n=>{vu[n]?.sendEvent(e,t,Iu)})}var Ye={setup:$_,sendEvent:M_};function Xe(){let e=Ae(window.location.search).variant,t=e?e.split("?")[0]:null;if(t)return parseInt(t,10);let o=[...document.querySelectorAll('input[name="id"]')];if(o.length===1)return parseInt(o,10);let r=window.ShopifyAnalytics?.meta;if(r?.product?.id){let n=[...document.querySelectorAll(`input[name="id"][data-productid="${r?.product?.id}"]`)];if(n.length===1&&n[0]?.value)return parseInt(n[0].value,10)}if(r?.product?.variants&&r?.selectedVariantId){let n=parseInt(r?.selectedVariantId,10),a=r?.product?.variants.filter(f=>f.id===n);if(window.ReCharge&&window.ga&&document.querySelector('[name="properties[shipping_interval_frequency]"]')?.value){let f=window.ReCharge.products.filter(s=>typeof s.variant_to_duplicate[`${n}`]=="string");if(f.length===1)return f[0].variant_to_duplicate[`${n}`]}if(a.length)return n}return null}var Au="ViewedProduct";function bu(e,t){let o=JSON.parse(JSON.stringify(e));if(o.variants&&o.variants.length){let n=o?.variant_id??Xe()??o.variants[0].id,a=o.variants.find(u=>u.id===n)??o.variants[0];a.name&&(o.title=a.name),o.variants=[a]}o.featured_image?.startsWith("//")&&(o.featured_image=`https:${o.featured_image}`),delete o.description;let r=it();r&&(o.currency=r),t(Au,{data:o})}function U_(e){St.setup(()=>{if(Zt()){let t=`${Y()}.js${window.location.search}`;q(t,{},o=>bu(o,e))}})}var xu={eventName:Au,setup:U_,sendProductDataToPlatform:bu};async function V_(e,t){try{if(await oe(en))return;(t?.validatePlatforms||[]).includes("facebook_ads")&&N(()=>{let n=window?.trekkie?.config?.S2S?.facebookCapiEnabled;if(typeof n=="boolean")n||(e("FB_CAPI_DISABLED"),Re(en,!0));else throw new Error("Trekkie facebookCapiEnabled not loaded.")},()=>i.error(new C("Trekkie not loaded")),100)}catch(o){i.error(o)}}var Pu={setup:V_};var fa="shopify";function q_(e){let t=ht(e),[o]=t?.platforms?.filter(r=>r?.platform===fa.toUpperCase());return o}function G_(e,t){let o=q_(e),r=o?.eventTriggerSettings;Ye.setup(fa,e,t,o),Pu.setup(Ye.sendEvent,o),nu.setup(Ye.sendEvent,r?.AddPaymentInfo),su.setup(Ye.sendEvent,r?.AddToCart),pu.setup(Ye.sendEvent,r?.InitiateCheckout),du.setup(Ye.sendEvent,r?.PageView),_u.setup(Ye.sendEvent,r?.Purchase),xu.setup(Ye.sendEvent,r?.ViewedProduct)}var ua={name:fa,setup:G_};var W_="shopify_webhook";function H_(e,t){function o(){let r={method:"POST",body:JSON.stringify({attributes:{_bcai:btoa(JSON.stringify({site_name:p,ids:Q(t),capi:ho()})),_bcai_aid:A("_shopify_y")}}),mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"}};q(`${window?.Shopify?.routes?.root||"/"}cart/update.js`,r,()=>{},()=>{i.error(new pe("Cart update failed"))})}w()||o()}var pa={name:W_,setup:H_};function Le(e={}){let t="https://api.blackcrow.ai/user/?";qe(p)&&(t="https://api.sandbox.blackcrow.ai/user/?");let o={site_name:p,ids:e},r=JSON.stringify(o);Ze(t,r),Jf(ct,o)}function j_(e){function t(o){let r=Q(e),n=ke("e",Pn(o));r.length&&n.length&&Le(r.concat(n))}Ks(t)}var ma={name:"email",setup:j_};function K_(e){function t(o){let r=Q(e),n=ke("p",jn(o));r.length&&n.length&&Le(r.concat(n))}Tc(t)}var da={name:"phone",setup:K_};async function So(e,t){try{return await oe(e)===t?!0:(Re(e,t),!1)}catch(o){return i.error(o),!1}}var J_="_kx";async function Y_(e){try{let o=function(u){let f=ke("klx",u);t.length&&f.length&&Le(t.concat(f))},r=function(){return lt()},t=Q(e),n=r();o(W(J_)),await So("_bcai_s_keid",n)||o(n)}catch(t){i.error(t)}}var la={name:"klaviyo",setup:Y_};async function X_(e){try{let t=function(){let g=W(_s);return g?.trim().length>0?`fb.1.${Date.now()}.${g}`:A(Do)},o=function(){return A(et)},n=function(g){let _=Object.entries(g).reduce((E,[R,$])=>E.concat(ke(R,$)),[]);r.length&&_.length&&Le(r.concat(_))},r=Q(e),[a,u]=[t(),o()],[f,s]=[await So("_bcai_s_fbc",a),await So("_bcai_s_fbp",u)];n({...!f&&{fbc:a},...!s&&{fbp:u}})}catch(t){i.error(t)}}var ga={name:"facebook_ads",setup:X_};function z_(e){let t=Q(e),o=Rc();o&&t.length&&o.forEach(r=>{let n=[];n=n.concat(ke("fn",Qo(r.fn))),n=n.concat(ke("ln",Qo(r.ln))),n=n.concat(ke("fln",Qo(r.fln))),n.length&&Le(t.concat(n))},[])}var _a={name:"name",setup:z_};var Tu="https://d-code.liadm.com/did-0012.min.js";function Q_(){return Array.from(document.querySelectorAll(`script[src="${Tu}"]`))}function Z_(){return Q_().length>0}function ku(){return new Promise((e,t)=>{if(Z_()){e();return}let o=document.createElement("script");o.src=Tu,o.onload=e,o.onerror=t,o.async=!0,document.head.appendChild(o)})}function Cu(){return new Promise((e,t)=>(window?.liQd_did_0012||t(new Error("Cannot run before script is loaded")),window.liQd_did_0012.resolve(e,t,{resolve:["md5","sha2","age","nonId"]})))}var Nu=new Ue(Lo);async function th(e){try{if(Nu.get()==="m"||w())return;let t=Q(e);if(!t.length)return;await ku();let{md5:o,sha2:r}=await Cu();if(o||r){let n=t.concat([{name:"li_md5",value:o},{name:"li_sha2",value:r}]);Le(n),Nu.set("m",41760)}}catch(t){i.error(t)}}var ha={name:"live_intent",setup:th};function Io(e,...t){return new Promise((o,r)=>{e(...t,n=>o(n),n=>r(n))})}var oh={[ea.name]:ea,[ta.name]:ta,[ua.name]:ua,[pa.name]:pa},rh={[ma.name]:ma,[da.name]:da,[la.name]:la,[ga.name]:ga,[_a.name]:_a,[ha.name]:ha};function nh(e,t){t.forEach(o=>{let r=rh[o];r&&typeof r.setup=="function"&&r.setup(e)})}function ya(e,t){e.length!==0&&t&&t.forEach(o=>{let r=oh[o];r&&typeof r.setup=="function"&&r.setup(ct,e)})}function ih(e){return e.filter(t=>t.source==="cookie"&&t.cookieLoadUrl)}function ah(e){let t=[];return e.forEach(o=>{A(o.value)||t.push(Io(q,o.cookieLoadUrl,{mode:"no-cors",credentials:"include"}))}),t}function sh(){let e=ht(ct),t=e.userAttributes||[],o=e.userIdentifiers||[],r=ih(o),n=[],a=new Set((e.platforms||[]).map(s=>s?.platform?.toLowerCase()).filter(s=>s));r.length&&(n=ah(r));function u(s){P("platform",y.VIEW_RESPONSE,()=>{let g=gr(e?.scoreName);Re(qt,g),s&&s(o,a)})}async function f(){try{O(()=>{nh(o,t)}),e?.scoreName?await oe(qt)?(ya(o,a),u()):u(ya):ya(o,a)}catch(s){i.error(s)}}return mo(n).then(f).catch(s=>i.error(s))}function ch(){return sh(),{}}var Ou={appName:ct,init:ch};var Or={audience:af,measure:sf,pwo:Cf,target:Hf,identity:Ou};var Ao={};function fh(e){let t=He(e.appName);if(typeof e.init=="function"&&t.active)return e.init();let o=or(e.appName),r={};return o.forEach(n=>{r[n]=Promise.resolve()}),r}function uh(e,t){let o=He(e.appName);return typeof e.sendAppScores=="function"&&o.active?e.sendAppScores(t):Promise.resolve()}function Ru(){v(Or,(e,t)=>{He(t).active&&(Ao[e.appName]=e)})}function Lu(){let e={};return v(Ao,t=>{e[t.appName]=fh(t)}),e}function Ea(e){if(qe(p))return Promise.resolve();let t=[];return v(Ao,o=>{t.push(uh(o,e[o.appName]))}),Promise.all(t)}function Du(){v(Ao,e=>{typeof e.cleanup=="function"&&e.cleanup()}),Ao={}}function J(e){P("platform",y.VIEW_RESPONSE,t=>e(t))}function Fu(e,t){return Wt(e),Ea(t)}function Rr(e,t){Wt(e),Zs(e.history_id),hc(),Hn(),pc(),Ea(t).then(()=>{Me.sendValidationEvent({location:"view_request"},"FB view event not sent")}),se("platform",y.VIEW_RESPONSE,e)}var Lr=`${c}_overrides`,Bu=!1,Dr=null;function ph(){Dr=null,Re(Lr,{})}async function $u(e){try{let t=I({},Dr||await oe(Lr),e);Dr=t,Re(Lr,t),Bu&&console.log(`Your <${c}> settings will apply on the next page load. Please refresh the page.`)}catch(t){i.error(t)}}function mh(){v(Or,(e,t)=>{P("platform",`force_${t}`,()=>{$u({apps:{[t]:{active:!0}}})})})}function Mu(){P("platform",y.OVERRIDES,$u),P("platform",y.CLEAR_OVERRIDES,ph),mh()}async function Uu(){try{return Bu=!0,Dr||await oe(Lr)}catch(e){return i.error(e),{}}}function Vu(){return Ru(),Lu()}var qu=!1;function dh(){let e=[...document.querySelectorAll("[data-shipping-method-label-title]")];if(e.length){let t=[];return e.forEach(o=>{let n=new RegExp(/([A-Za-z0-9- ]*)(?:\s)(\([A-Za-z0-9- ]*\))/).exec(o.dataset.shippingMethodLabelTitle.trim());n&&n.length&&t.push({method:n[1],duration:n[2]})}),t}return null}function wa(){let e=[...document.querySelectorAll("[data-checkout-total-shipping]")],t=dh();if(e.length&&t){let o=[];return e.forEach((r,n)=>{let a={...t[n],cost:r.dataset.checkoutShippingRate,selected:r.checked};o.push(a)}),{custom_dimensions:{tax_amount:Qt(),shipping_options:o}}}return null}function lh(){let e=[...document.querySelectorAll("[data-review-section]")];if(e.length){let o=new RegExp(/([0-9A-Za-z- ]*)(?:\s)(\([A-Za-z0-9- ]*\))(?:\s**\s*)(.*)/).exec(e[0].textContent.trim());if(o&&o.length)return{custom_dimensions:{tax_amount:Qt(),selected_shipping_option:{method:o[1],cost:o[3]}}}}return null}function gh(){let e=lh();e&&i.push({trigger:y.CA_PAYMENT,data:e})}function _h(){let e=wa();e&&i.push({trigger:y.CA_SHIPPING_EXIT,data:e})}function va(){O(()=>{let e=Ne();e==="payment"&&gh(),e==="shipping"&&!qu&&(h.addListener(window,"beforeunload",()=>{_h()}),qu=!0)}),J(()=>{P("platform",y.CA_PAYMENT,e=>{L(T.CA_PAYMENT,e)}),P("platform",y.CA_SHIPPING_EXIT,e=>{L(T.CA_SHIPPING_EXIT,e)})})}var hh="bcai_ca";function Gu(e){let t=W(hh);return t==="test"?!0:t==="control"?!1:!!e}function Wu(e){let t=e.comparison_type,o=e.comparison_group,r=e.score_range,a=(de(`${we}.scores`)||[]).find(u=>u.comparison_type===t&&u.comparison_group===o);return Gu(a&&r.indexOf(a.score)!==-1)}function Hu(e){let o=[...document.getElementsByClassName("reduction-code__text")].find(n=>n.textContent===e),r=document.getElementsByClassName("tags-list").length;return!!(r===1&&o||r===0)}function ju(e,t){return t?e<=t:!0}function Ku(e,t){return t?t<=e:!0}function Ju(){return document.getElementsByClassName("recurring-total-label-content").length===0}function Yu(e){return Gu(e&&G({name:"checkout_abandonment",allocations:[{percent:e,value:!0}]}))}function Xu(e,t,o,r,n,a,u,f){let s=o&&r&&e&&t&&a&&u&&f;return s&&n?"treatment":s&&!n?"control":"not_eligible"}function zu(e){let t={experiment_config:nt(e),resolved_experiment_config:Pe(e)};return Object.keys(t.experiment_config).length>0?t:{}}function $t(e){return(e*.01).toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2})}var yh="checkout_abandonment",Eh="checkout_abandonment.banner.activate",Qu=!1;function Mt(){return Pe(yh)?.data?.free_shipping_test||{}}function Sa(){let e=Mt().version;if(e)return parseInt(e.replace("_",""),10)}function Fr(){Qu||window.dataLayer&&D("config.google_optimize.container_id")&&(window.dataLayer.push({event:Eh}),Qu=!0)}function Zu(e,t){let o=document.getElementsByClassName("order-summary-toggle");o.length&&o[0].click();let r=document.getElementById("checkout_reduction_code");r&&t.coupon_code&&(r.value=t.coupon_code);let n=document.getElementById("checkout_submit");n&&(n.removeAttribute("disabled"),n.classList.remove("btn--disabled"),n.click()),h.setTimeout(()=>{let a=t.shipping_cost||595;if(a&&Sa()===15&&it()==="USD"){let s=$t(e+a),g=document.querySelector("dl.total-recap");if(g){let R=Oe("dt",{className:"visually-hidden",innerHTML:"<span>Total price</span>"}),$=Oe("dd",{className:"order-summary__emphasis skeleton-while-loading",innerHTML:`<span>${s}</span>`});$.style.textDecoration="line-through",g.prepend(R,$)}let _=document.querySelector("tr.total-line--subtotal");_&&(_.querySelector("span.order-summary__emphasis").textContent=s);let E=document.querySelector("tr.total-line--reduction");E&&(E.querySelector("span.reduction-code__text").textContent="FREE SHIPPING",E.querySelector("td.total-line__price").querySelector("span.order-summary__emphasis").textContent=`-${$t(a)}`)}[...document.getElementsByClassName("total-line--shipping")].forEach(s=>{s.style.display="none"}),[...document.getElementsByClassName("reduction-code__text")].forEach(s=>{s.style.opacity="1"})},2e3),Fr()}var ep=!1;function wh(e){let t=e.hotjar,o=e.hotjar_ratio_of_test_bucket;return t&&o&&G({name:"hotjar",allocations:[{percent:o,value:!0}]})}function vh(e){let t=e.hjid,o=e.version;t&&o&&(function(r,n,a,u,f,s){r.hj=r.hj||function(){(r.hj.q=r.hj.q||[]).push(arguments)},r._hjSettings={hjid:t,hjsv:6},f=n.getElementsByTagName("head")[0],s=n.createElement("script"),s.async=1,s.src=a+r._hjSettings.hjid+u+r._hjSettings.hjsv,f.appendChild(s)}(window,document,"https://static.hotjar.com/c/hotjar-",".js?sv="),window.hj("event","bcai_ca_test"),window.hj("event",`bcai_ca_test_${o}`))}function Ia(){let e=Mt();!ep&&wh(e)&&(vh(e),ep=!0)}var tp=!1;function Sh(e){let t="cart/add",o=y.ADD_TO_CART;mr(t,()=>{i.push({trigger:o})}),Yf(t,()=>{i.push({trigger:o})},e)}function Ih(e){h.addListener(window,"click",t=>{let o=S(t,"target.className");(t.target.getAttribute("name")==="checkout"||e&&typeof o=="string"&&o.match(e))&&i.push({trigger:"initiate_checkout"})})}function Aa(e){let t=[];return e.items.forEach(o=>{t.push({sku:o.sku,id:o.id,quantity:o.quantity})}),e.items=t,e}function ba(e,t){return e.items&&(e=Aa(e)),{cart_json:e,...zu(t)}}function xa(e,t,o,r){q("/cart.json",{servletName:"ShopifyCart"},n=>{let a={custom_dimensions:ba(n,r)};o?t(o,I({},e,a)):t(I({},e,a))})}function Pa(e){tp===!1&&(N(()=>{if(Ce()&&D("config.shopify.add_to_cart.active"))return Sh(!0);throw new Error("Shopify globals not found")}),D("config.shopify.checkout.active")&&Ih(D("config.shopify.checkout.class_name")),tp=!0),J(()=>{Ce()&&D("config.shopify.add_to_cart.active")&&P("platform",y.ADD_TO_CART,t=>{xa(I({},t,{page_id:"AddToCart"}),e,void 0,"checkout_abandonment")}),P("platform",y.INITIATE_CHECKOUT,t=>e(I({},t,{page_id:"checkout"})))})}var Br="checkout_abandonment",Ah="bcai_ca";function bh(){return Pe(Br)?.data?.data_logging||{}}function Ta(){return Pe(Br).active}function xh(){let e=Mt().exclude_channels,t=Ae(b());function o(r,n){return t[r]===n}e&&(e.values||[]).forEach(n=>{o(e.param,n)&&V(on,"true")})}function Ph(){function e(r){return Object.keys(I({},r)).filter(n=>n.match("Config$")).map(n=>n.replace(/Config$/,""))}let t=S(window,"Shopify.Checkout.dynamicCheckoutPaymentInstrumentsConfig.paymentInstruments");return{custom_dimensions:{checkout_options:t?e(t):void 0}}}function Th(e={}){let t=Te(),o=bh().checkout_data_page_ids||[];if(Ta()&&o.indexOf(t)!==-1){let r=Ne(),n;r==="contact"?n=I({},e,Ph()):r==="shipping"?n=I({},e,wa()):n=e,i.push({trigger:y.CA_CART_CHECKOUT,payload:n})}}function op(e){O(()=>{Th(e)});let t=Te(),o=Mt();o.test_page_id&&Ta()&&t===o.test_page_id&&q("/cart.json",{servletName:"ShopifyCart"},r=>{let n=r.total_price,a=Wu(o),u=Hu(o.coupon_code),f=ju(n,o.max_total_price),s=Ku(n,o.min_total_price),g=Yu(o.test_bucket_ratio),_=Ju(),E=!A(gs),R=!A(on),$=Xu(a,u,f,s,g,_,E,R),he=$==="treatment",Fe=o.version,ze=W(Ah),Ve=I({eligible:he,score_in_range:a,coupon_empty:u,cart_value_below_threshold:f,cart_value_above_threshold:s,test_bucket:g,non_subscription_item:_,pii_not_submitted:E,not_excluded_by_channel:R},{force_bucket:ze}),It={custom_dimensions:{...ba(r,Br),eligibility:Ve,experiment_group:ze?"not_eligible":$,version:Fe}};L(T.CA_TEST,It),he&&(Ia(),o.a_a_test||(V(tn,"true",30),o.display_banner_only?O(()=>Fr()):O(()=>Zu(n,o))))})}function $r(){if(xh(),A(tn)){Ia();let e=Sa();(e===13||e===14)&&Ta()&&Ct()&&!S(window,"Shopify.checkout")&&Fr()}J(()=>{P("platform",y.CA_CART_CHECKOUT,e=>{xa(e,L,T.CA_CART_CHECKOUT,Br)}),op()})}var rp=!1;function ka(){rp||(O(()=>{if(!["korres","dropps","theadventurechallenge","pacificabeauty","nativecos"].includes(p.toLowerCase()))return;let t,o;window.DeviceOrientationEvent&&(DeviceOrientationEvent.requestPermission||h.addListener(window,"deviceorientation",r=>{let[n,a,u]=[r.alpha,r.beta,r.gamma];o={alpha:n,beta:a,gamma:u}},{once:!0})),window.DeviceMotionEvent&&(DeviceMotionEvent.requestPermission||h.addListener(window,"devicemotion",r=>{let[n,a,u]=[r.acceleration.x,r.acceleration.y,r.acceleration.z];t={x:n,y:a,z:u}},{once:!0})),h.addListener(window,"beforeunload",()=>{if(o||t){let r={custom_dimensions:{motion:t,orientation:o}};L(T.DEVICE_MOTION,r)}})}),rp=!0)}var np=!1;function ip(e){let t=[...document.querySelectorAll(e)],o=t.length>0?t[0].textContent:null;return o?o.trim():null}function ap(){if(Ct()){let e=document.querySelector(".tags-list"),t=e?e.querySelector(".reduction-code__text"):null,o=t?t.textContent:null,r=ip("[data-checkout-discount-amount-target]"),n=ip("[data-checkout-subtotal-price-target]");if(o){let a={custom_dimensions:{discount_code:o,discount_value:r,subtotal:n}};i.push({trigger:y.DISCOUNT_APPLIED,data:a})}}}function Ca(){O(ap),J(()=>{P("platform",y.DISCOUNT_APPLIED,e=>{L(T.DISCOUNT_APPLIED,e)})}),np===!1&&(h.addListener(window,"beforeunload",()=>{ap()}),np=!0)}function bo(e){i.push({trigger:y.DISCOUNT_INTERACTION,data:{custom_dimensions:{interaction_type:e}}})}function kh(){function e(){h.setTimeout(()=>{document.getElementById("error-for-reduction_code")?bo("invalidated"):bo("validated")},3e3)}let t=document.getElementById("checkout_reduction_code");t&&h.addListener(t,"focus",()=>{bo("focused_input")});let o=document.getElementById("checkout_submit");o&&h.addListener(o.form,"submit",e),[...document.getElementsByClassName("tag")].forEach(n=>{let a=n.querySelector("span.reduction-code");a&&h.addListener(a,"click",()=>{bo("clicked_code")});let u=n.querySelector("button[type=submit]");u&&h.addListener(u,"click",()=>{bo("clicked_remove")})})}function Na(){O(kh),J(()=>{P("platform",y.DISCOUNT_INTERACTION,e=>{L(T.DISCOUNT_INTERACTION,e)})})}function Oa(){if(Ne()!=="contact")return;let e,t,o={custom_dimensions:{initial_opt_in_status_email:null,initial_opt_in_status_phone:null,final_opt_in_status_email:null,final_opt_in_status_phone:null}};O(()=>{e=document.getElementById("checkout_buyer_accepts_marketing"),t=document.getElementById("ps_accepts_sms"),o.custom_dimensions.initial_opt_in_status_email=e?e.checked:null,o.custom_dimensions.initial_opt_in_status_phone=t?t.checked:null;let r=document.getElementById("continue_button");r&&h.addListener(r,"click",()=>{t||(t=document.getElementById("ps_accepts_sms")),o.custom_dimensions.final_opt_in_status_email=e?e.checked:null,o.custom_dimensions.final_opt_in_status_phone=t?t.checked:null,L(T.MARKETING_CHECKOUT_EVENT,o)})})}var Ie={platforms:{attentive:{submitEvents:["EMAIL_LEAD"]},bounceExchange:{submitEvents:["input_submission","campaign_submit"]},justUno:{},klaviyo:{submitEvents:["submit"]},sleekNote:{submitEvents:["submit"]},wisePops:{submitEvents:["after-form-submit"]},generic:{}},platformIdentifiers:["kl-","klaviyo","attn","fieldcaptureform","sleeknote","justuno","bx","bounceexchange","wisepops"],platformIdentifierExceptions:["kmail"],metadataViolators:["phone","email","sentIdentifiers"],page_id:"EmailSubmit"};var{platformIdentifiers:Ch,platformIdentifierExceptions:Nh,metadataViolators:Oh}=Ie,cp=(e,{qualified:t,resolveTarget:o})=>e?t(e)?o?e:!0:e.parentElement?cp(e.parentElement,{qualified:t,resolveTarget:o}):!1:!1,Rh=e=>e.style.position==="fixed"||e.style.top==="0"||e.style.top==="0px",Lh=e=>e.nodeName.toLowerCase()==="iframe",Dh={form:{qualified:e=>e.nodeName.toLowerCase()==="form",resolveTarget:!0},footer:{qualified:e=>e.nodeName.toLowerCase()==="footer",resolveTarget:!1},overlay:{qualified:e=>Rh(e)||Lh(e),resolveTarget:!1}},Ra=(e,t)=>cp(e,Dh[t]),fp=e=>Ra(e,"form"),Fh=e=>Ra(e,"footer"),Bh=e=>Ra(e,"overlay"),$h=e=>{if(!e)return"unknown";try{if(Bh(e))return"overlay";if(Fh(e))return"footer";if(Te()==="checkout")return"checkout"}catch{i.error(new C("email location failed"))}return"unknown"},up=()=>{let e=Te()==="checkout",t=document.querySelector('input[type="checkbox"]');return e&&t&&!t.checked},Mh=(e,t)=>e.some(o=>typeof o=="string"&&o.toLowerCase().includes(t)),sp=(e,t)=>t.some(Mh.bind(null,e)),pp=e=>{let t=[...Array.from(e.classList),e.action,e.id];return sp(t,Ch)&&!sp(t,Nh)},Uh=e=>{window._learnq=window._learnq||[],window._learnq.push(["identify",{$email:e}])},Vh=(e,t)=>{let o={...e};return v(Object.keys(o),r=>{v(t,n=>{r.includes(n)&&(o[r]="redacted")})}),o},qh=e=>{i.push({trigger:y.VIEW,data:{page_id:Ie.page_id,custom_dimensions:e}})},_e=(e,t)=>{let o=e.email||e.$email,r=An(o);bn(r)&&(Pt(r),Uh(r),qh({...Vh(e,Oh),location:$h(t)}),ge.piiWasSubmitted())};var mp=["checkout","account","login"],Gh=Te(),Wh=Y(),dp=e=>{if(mp.includes(Gh)||mp.some(o=>Wh.includes(o))||up())return;let t=e.value;t&&_e({email:t},document.activeElement)},Hh=()=>{let e;v(Tn(),t=>{if(e=fp(t),e){if(pp(e))return;h.addListener(e,"submit",()=>{dp(t)})}else h.addListener(t,"focusout",()=>{dp(t)})})};function La(){O(()=>{h.setTimeout(Hh,5e3)})}var{submitEvents:jh}=Ie.platforms.attentive;function Da(){h.addListener(window,"message",e=>{let{origin:t,data:o,target:r}=e;if(t.includes(".attn.tv")){let{__attentive:n}=o;jh.includes(n?.action)&&_e(n,r.document.activeElement)}})}var Kh=(e,t)=>{if(t.isWrapped)return t;function o(){try{e.apply(this,arguments)}catch{}return t.apply(this,arguments)}return o.isWrapped=!0,o},Mr=(e,t)=>Kh(e,typeof t=="function"?t:()=>{});var{submitEvents:Jh}=Ie.platforms.bounceExchange;function Fa(){h.setTimeout(()=>{window.bouncex=window.bouncex||{},window.bouncex&&typeof window.bouncex.push=="function"&&(window.bouncex.push=Mr((...e)=>{let{email:t,source:o}=e[0][1];Jh.includes(o)&&_e({email:t})},window.bouncex.push))},8e3)}function Ba(){h.setTimeout(()=>{window.ju_callback=Mr((e,t)=>{_e({email:t})},window.ju_callback)},5e3)}var{submitEvents:Yh}=Ie.platforms.klaviyo;function $a(){h.addListener(window,"klaviyoForms",e=>{let{detail:t,target:o}=e,{type:r,metaData:n}=t;Yh.includes(r)&&_e(n,o.document.activeElement)})}var{submitEvents:Xh}=Ie.platforms.sleekNote;function Ma(){h.addListener(window,"sleekNote",e=>{let{data:t,target:o}=e;Xh.includes(t.type)&&_e(t.data,o.activeElement)})}var{submitEvents:zh}=Ie.platforms.wisePops;function Ua(){h.setTimeout(()=>{zh.forEach(e=>{window[window.WisePopsObject]&&typeof window[window.WisePopsObject]=="function"&&window[window.WisePopsObject]("listen",e,t=>{let{target:o}=t,r=o.querySelector('input[type="email"]')?.value;_e({email:r},o)})})},5e3)}var Qh={attentive:Da,bounce_exchange:Fa,just_uno:Ba,klaviyo:$a,sleek_note:Ma,wise_pops:Ua};function Va(){let e=D("config.emailFormTracking"),t=e?.active||!1,o=e?.platforms||[];t&&t===!0&&(La(),o.map(r=>r.name).forEach(r=>{let n=Qh[r];n&&n()}))}var lp=!1;function Zh(e){return e.filter(o=>o.available===!0).length>0}function ey(e,t){let o=e.filter(r=>r.id.toString()===t);return o[0]?o[0].available:!0}function gp(){q(`${b().split("?")[0]}.js`,{},e=>{let t=Xe(),o=e.variants&&e.variants.length>1,r={custom_dimensions:{out_of_stock:{in_stock:!1}}};t&&o&&!ey(e.variants,t)?(r.custom_dimensions.out_of_stock.product_id=t,i.push({trigger:y.OUT_OF_STOCK,data:r})):!t&&o&&!Zh(e.variants)?(r.custom_dimensions.out_of_stock.product_id=e.variants[0].id,i.push({trigger:y.OUT_OF_STOCK,data:r})):!t&&!o&&!e.available&&(e.variants?r.custom_dimensions.out_of_stock.product_id=e.variants[0].id:r.custom_dimensions.out_of_stock.product_id=e.id,i.push({trigger:y.OUT_OF_STOCK,data:r}))},()=>({}))}function ty(){let e=document.URL;h.addListener(document,"change",()=>{let t=document.URL;Xe()&&t&&e!==t&&(e=t,gp())})}function qa(){O(()=>{Zt()&&(gp(),lp===!1&&(ty(),lp=!0))}),J(()=>{P("platform",y.OUT_OF_STOCK,e=>{L(T.OUT_OF_STOCK,e)})})}var _p=!1;function oy(e){let o=[{type:"shop_pay",button:[...document.querySelectorAll('[data-testid="ShopifyPay-button"]')]},{type:"google_pay",button:[...document.querySelectorAll('[data-testid="GooglePay-button"]')]},{type:"apple_pay",button:[...document.querySelectorAll('[data-testid="ApplePay-button"]')]}].filter(r=>r.button[0]===e.target);if(o.length){let r={custom_dimensions:{type:o[0].type}};i.push({trigger:y.PAYMENT_METHOD_CLICK,data:r})}}function Ga(){_p||(O(()=>{Ne()==="contact"&&(h.addListener(window,"blur",()=>{if(document.activeElement.title==="Checkout with PayPal"){let t={custom_dimensions:{type:"paypal"}};i.push({trigger:y.PAYMENT_METHOD_CLICK,data:t})}}),h.addListener(document,"click",t=>{oy(t)}))}),_p=!0),J(()=>{P("platform",y.PAYMENT_METHOD_CLICK,e=>{L(T.PAYMENT_METHOD_CLICK,e)})})}var hp=!1;function ry(e){let t=e.ratio;return e.active&&t&&G({name:"hotjar",allocations:[{percent:t,value:!0}]})}function ny(e,t){e&&t&&t.length&&(function(o,r,n,a,u,f){o.hj=o.hj||function(){(o.hj.q=o.hj.q||[]).push(arguments)},o._hjSettings={hjid:e,hjsv:6},u=r.getElementsByTagName("head")[0],f=r.createElement("script"),f.async=1,f.src=n+o._hjSettings.hjid+a+o._hjSettings.hjsv,u.appendChild(f)}(window,document,"https://static.hotjar.com/c/hotjar-",".js?sv="),v(t,o=>{window.hj("event",o)}))}function yp(e,t){!hp&&ry(t)&&(ny(t.hjid,e),hp=!0)}function iy(e){document.documentElement.dispatchEvent(new CustomEvent("cart:refresh",{bubbles:!0}));let t=document.querySelector(e.cartCountSelector)||{},o=B(t.innerText.replace(/\D/g,""));t.innerText=(o+1).toString();let r=document.getElementById("mini-cart")||{};r.open=!0}function ay(e,t){e.innerHTML='<img class="loading_image" src="https://init.blackcrow.ai/public/loading.svg">',h.setTimeout(()=>{e.innerHTML=t},2e3)}function sy(e,t){let o=Oe("span",{className:"sticky-call-to-action-headline",innerHTML:e});return h.addListener(o,"click",()=>{t.custom_dimensions.predictive_button.action="clicked headline",i.push({trigger:y.PREDICTIVE_BUTTON,data:t})}),o}function Ep(e,t,o,r){let n={method:"POST",body:JSON.stringify(e),headers:{Accept:"application/json","Content-Type":"application/json"}};q("/cart/add.js",n,()=>{o.name.match("checkout")?window.location.href=r:iy(t)})}function wp(e,t,o,r,n,a){let u=o.singleItemCheckout?`/cart/${n}:1`:"/checkout",f={items:[{id:n,quantity:1}]};if(t.length&&!a&&ay(e,t),o.addToCartOverrideSelector&&r.name.match("cart")&&Y()?.includes("products")){document.querySelector(o.addToCartOverrideSelector)?.click();return}if(r?.type==="shop-pay"&&(u="/checkout?payment=shop_pay"),window.ReCharge&&window.ga){let s=document.querySelector('[name="properties[shipping_interval_frequency]"]')?.value,g=document.querySelector('[name="properties[shipping_interval_unit_type]"]')?.value;s&&g&&(f.items[0].properties={shipping_interval_frequency:s,shipping_interval_unit_type:g}),q("/cart.js",{},_=>{let E=document.querySelectorAll(`input[name='id'][value='${n}']`).length===0;if(_.items.filter($=>typeof $.properties?.shipping_interval_frequency=="string").length||E){let $=`&cart_token=${(document.cookie.match("(^|; )cart=([^;]*)")||0)[2]}`,he=`myshopify_domain=${window.Shopify.shop}`,Fe=`&${window.ga.getAll()[0].get("linkerParam")}`;u=`https://checkout.rechargeapps.com/r/checkout?${he}${$}${Fe}`}})}if(window.ReChargeWidget?.getWidgets){let s=window.ReChargeWidget.getWidgets()[0]||{},g=s.state?.selectedVariantId,_=s.state?.sellingPlanId,E=s.productData?.selling_plan_groups[0]?.selling_plan_group_id,R=s.subscriptionActive||!1,$={id:g,sellingPlanId:_,sellingPlanGroupId:E,isSubscription:R};if(g&&_&&E&&window.ReChargeWidget?.api?.postToCart){window.ReChargeWidget.api.postToCart($).then(()=>{window.location.href=u});return}}if(window.og?.store?.getState()?.optedin&&window.og?.store?.getState()?.config?.frequencies?.length>0){let s=window.og?.store?.getState()?.optedin;s&&s.length&&(f.items[0].id=s[s.length-1].id,f.items[0].selling_plan=s[s.length-1].frequency)}window.Rebuy?q(`${b().split("?")[0]}?view=metafield`,{},s=>{s.metafields.erpLineItem&&(f.items[0].properties={"_erp-line-item":s.metafields.erpLineItem}),Ep(f,o,r,u)}):Ep(f,o,r,u)}function Wa(e,t,o,r,n,a=!1){h.addListener(e,"click",()=>{a?n.custom_dimensions.predictive_button.action="clicked alternative option":n.custom_dimensions.predictive_button.action="clicked button";let u=Xe();if(u)wp(e,t,o,r,u,a);else{let f=document.querySelector('a[role="button"]'),s=Y()?.includes("pages")&&f?.href?`${f.href}.js`:`${b().split("?")[0]}.js`;q(s,{},g=>{let _=g.variants.filter(E=>E.available===!0);_.length!==0&&(u=_[0].id,wp(e,t,o,r,u,a))})}i.push({trigger:y.PREDICTIVE_BUTTON,data:n})})}function vp(e,t,o,r){let n=Oe("div",{className:`sticky-call-to-action-container ${t.animated?"animated":""}`}),a;if(t.headline){let s=sy(t.headline,o);n.append(s)}if(r?.type==="shop-pay"){let s=Oe("script",{src:"https://cdn.shopify.com/shopifycloud/shop-js/client.js"}),g=document.createElement("shop-pay-button");return g.setAttribute("store-url",`${window.location.origin}`),n.append(s),n.append(g),Wa(g,"",t,r,o),n}let u=r.text;a={name:"add",type:"button",innerHTML:u,"accept-charset":"UTF-8",className:`sticky-call-to-action-submit ${r.name}`};let f=Oe("button",a);if(n.append(f),Wa(f,u,t,r,o),r.alt_option_text){a={innerHTML:r.alt_option_text,className:`sticky-call-to-action-submit-alt-option ${r.name}`};let s=Oe("a",a),g=document.querySelector(r.alt_option_override_container);g?g.append(s):n.append(s);let _={...r};r.name.match("checkout")?_.name="cart":_.name="checkout",Wa(s,r.alt_option_text,t,_,o,!0)}return n}var cy="event",fy="google_analytics";function uy(e){e.message===x?i.error(new C(`${fy} globals not found`)):i.error(e)}function Sp(e,t){let o=F(["blackcrow",e,t]);N(()=>{if(typeof window.ga=="function"){window.ga("send",{hitType:cy,eventCategory:o,eventAction:null,eventLabel:null,nonInteraction:!0});return}if(typeof window.gtag=="function"){window.gtag("event",o,{event_category:o,event_label:null,non_interaction:!0});return}throw new Error(x)},uy)}var py="bcai_pbtn",my="bcai_pbgn",dy="bcai_pbs",Ha="sticky_call_to_action";function ly(){let e=W(py);return e&&e.length?e:!1}function gy(){let e=W(my);return["control","treatment"].includes(e)?e:!1}function _y(){let e=W(dy);return parseFloat(e)>=0?e:!1}function hy(){return Pe(Ha)?.data||{}}function yy(e,t,o,r){let n=document.querySelector(e.original_button_selector),a=t.querySelector(".sticky-call-to-action-submit");if(n){let u=e.text;if(e.include_prices){let f=o.variants.find(g=>g.id===r)||{};u+=` - ${$t(f.price||o.price)}`;let s=document.querySelector(`input[value="${r}"]`);h.addListener(s,"change",()=>{s.value.length&&(f=o.variants.find(g=>g.id===parseInt(s.value,10))||{},n.innerHTML=`${e.text} - ${$t(f.price||o.price)}`)})}n.innerHTML=u,h.addListener(n,"click",f=>{f.preventDefault(),a.click()})}}function Ey(e,t,o){let r=document.querySelector(e),n=document.querySelector(t);if(r&&h.addListener(r,"click",()=>{o.custom_dimensions.predictive_button.action="clicked button",i.push({trigger:y.PREDICTIVE_BUTTON,data:o})}),n)if(!n.attributes.hidden)o.custom_dimensions.predictive_button.action="render",i.push({trigger:y.PREDICTIVE_BUTTON,data:o});else{let a=new MutationObserver(()=>{n.attributes.hidden||(o.custom_dimensions.predictive_button.action="render",i.push({trigger:y.PREDICTIVE_BUTTON,data:o}),a.disconnect())});a.observe(n,{attributes:!0,childList:!0})}}function Ip(e,t,o,r,n){let a=document.querySelector(e.openMenuSelector);dt()>=r&&!t.classList.contains("active")&&Ds()<464&&a===null?(t.classList.add("active"),o.custom_dimensions.predictive_button.action="render",i.push({trigger:y.PREDICTIVE_BUTTON,data:o})):n&&t.classList.contains("active")&&dt()<r&&t.classList.remove("active")}function wy(e){let t=gy();return t||e.experiment_group}function Ap(e,t=[]){let o=_y()||t.find(r=>r.name&&r.name===e.score_name)?.score;return o?e.score_values.sort((n,a)=>a.score_threshold-n.score_threshold).find(n=>n.score_threshold<=o):null}function vy(e,t){let o=ly(),n=nt(Ha)?.data?.button_displayed,a={};return o&&Array.isArray(n)?(a=n.find(u=>u.name===o)?.value,a.score_values?Ap(a,t):a):e?.button_displayed?.score_values?Ap(e.button_displayed,t):e.button_displayed}function Sy(){let e=nt(Ha);if(!((Y()?.includes("products")||Y()?.includes("pages"))&&e.active))return;let t=hy();if(t.product_blacklist&&t.product_blacklist.includes(Te()))return;let o=wy(t),r=`${b().split("?")[0]}.js`;function n(a){let u=Xe();if(!u&&!(a.variants&&a.variants[0]?.id))return;let f=a.variants.find(s=>s.id===u)||{};q("/cart.js",{},s=>{if(document.querySelector(".sticky-call-to-action-container"))return;s.items&&(s=Aa(s));let g={custom_dimensions:{predictive_button:{action:"impression",button_displayed:t.button_displayed,experiment_group:o,item_cost:f.price||a.price,cart_total:s.total_price,cart_json:s,version:t.version}}};L(T.PREDICTIVE_BUTTON_DECISION,g,_=>{t.send_ga_events&&Sp(g.custom_dimensions.predictive_button.action,o);let E=vy(t,_.apps?.audience?.scores);if(g.custom_dimensions.predictive_button.button_displayed=E,i.push({trigger:y.PREDICTIVE_BUTTON,data:g}),!o||!E)return;if(o==="control"){if(!t.controlButtonSelector)return;Ey(t.controlButtonSelector,t.controlButtonContainer,g);return}if(document.head.insertAdjacentHTML("beforeend",`<link type="text/css" rel="stylesheet" href="https://init.blackcrow.ai/public/css/${p.toLowerCase()}.css">`),t.hotjar){let he=[`bcai_pred_bttn_${E.name}`];yp(he,t.hotjar)}let R=vp(a,t,g,E);document.body.append(R),E.original_button_selector&&yy(E,R,a,u);let $=E.scroll_depth||t.scroll_depth;$?h.addListener(window,"scroll",()=>{Ip(t,R,g,$,E.hide_on_scroll_up)}):Ip(t,R,g,$,E.hide_on_scroll_up)})})}if(Y().includes("pages")){let a=new MutationObserver(()=>{if(document.querySelector('a[role="button"]')?.href){if(a.disconnect(),r=`${document.querySelector('a[role="button"]').href}.js`,!r.includes("/products/"))return;q(r,{},f=>n(f))}});a.observe(document,{attributes:!1,childList:!0,characterData:!1,subtree:!0})}else q(r,{},a=>n(a))}function Ur(){J(()=>{O(Sy),P("platform",y.PREDICTIVE_BUTTON,e=>{L(T.PREDICTIVE_BUTTON,e)})})}function ja(){O(()=>{h.setTimeout(()=>{if(window.Rebuy){let e={custom_dimensions:{modules:window.Rebuy.modules}};i.push({trigger:y.RB_ACTIVE,data:e})}},3e3)}),J(()=>{P("platform",y.RB_ACTIVE,e=>{L(T.RB_ACTIVE,e)})})}var bp=[$r,ka,Ca,Na,Oa,Va,qa,Ga,Ur,va,Pa,ja];var Vr="target",Iy=[Me,lo,_o];function Ka(){function e(o){let r="advanced_matching";je(Vr,o,r),X(`${Vr} ${r}: ${o}`,"update")}function t(o){let r=M(Vr,o.name);!r||Object.keys(r).length===0||typeof o.identify=="function"&&o.identify(Vr,()=>e(o.name))}Iy.forEach(o=>t(o))}function Ja(){function e(){Js(Ka),kc(Ka),Cc()}(D("config.visitor.set_info")||tr())&&O(e)}var xp=!0;function Ay(e){Du(),Wn(),sn(),Mn(),Wt({}),un({}),e&&Object.keys(e).length>0&&$o(e)}async function Ya(e={}){try{async function t(n){try{let f=function(s={}){Mn(),L(T.VIEW,s,g=>{Fu(g,u)})};Mu();let a=I(n,await Uu());if(un(a),se("platform",y.START,{build:"13621"}),P("platform",y.REFRESH,o),S(a,"page.ignored"))return;_f();let u=Vu();J(()=>{P("platform",y.VIEW,s=>f(s))}),bp.forEach(s=>s(f)),await L(T.VIEW,{},s=>{Rr(s,u)},()=>{Rr({},u)})}catch(a){i.error(a)}}async function o(n={}){try{let a=e.pages||[],u=b(),f=oc(a,u);if(X(`page: ${f.id} ${f.isNewPage?"\u2714":"\xD7"}`,f),f.isNewPage){let s=I(e,f.config);xp?(sn(),xp=!1):Ay(n),await t(s)}Ja()}catch(a){i.error(a)}}async function r(n=0){try{tt(e)?await o():n<5?h.setTimeout(()=>{r(n+1)},400):(await o(),i.error(new C("vendor id not found (google id)")))}catch(a){i.error(a)}}S(e,"config.visitor.id_source")==="google"?await r():await o()}catch(t){i.error(t)}}var by=G({name:"log_spa_refresh_sampling",allocations:[{percent:.1,value:!0}]});function Pp(e,t){by&&z(e,{url:t})}var Tp={SPA_REFRESH_ENABLED:"config.spa.refresh.enabled",SPA_REFRESH_DELAY:"config.spa.refresh.delay"};function Xa(){if(!w()&&D(Tp.SPA_REFRESH_ENABLED)){let e=D(Tp.SPA_REFRESH_DELAY)||1e3;(t=>{if(t===void 0){i.error("Unable to setup SPA refresh: window.history is undefined");return}function o(a){Pp("history_intercepted_initial",a),h.setTimeout(()=>{Pp("history_intercepted_timeout",a),i.push({trigger:y.REFRESH})},e)}let r=t.pushState;t.pushState=function(){try{let u=arguments.length>=3?arguments[2]:"not passed";o(u)}catch(u){i.error(u)}return r.apply(t,arguments)};let n=t.replaceState;t.replaceState=function(){try{let u=arguments.length>=3?arguments[2]:"not passed";o(u)}catch(u){i.error(u)}return n.apply(t,arguments)}})(window.history)}}function kp(){let e=D("config.events");return e&&e.purchase&&e.purchase.fbEventsToIntercept&&e.purchase.fbEventsToIntercept.length>0?e.purchase.fbEventsToIntercept:null}function Cp(){let e=D("config.events");return e&&e.view&&e.view.fbEventsToIntercept&&e.view.fbEventsToIntercept.length>0?e.view.fbEventsToIntercept:null}var xy=["load","error"],Py=G({name:"log_intercepted_fb_event",allocations:[{percent:.1,value:!0}]});function Np(e,t){let o="Interepted FB event - ".concat(e.event,". Event fired - ",t.type);Py&&z(o)}function Op(e,t){return e.find(o=>{let r=o.event,a=(o.filters||[]).map(f=>`.*${f}`).join(),u=`facebook.com/tr/\\?id=.*&ev=${r}${a}`;return t.src.match(u)})}function Ty(e,t,o){let r=Op(t,o);r&&(Np(r,e),i.push({trigger:y.PURCHASE}))}function ky(e,t,o){let r=Op(t,o);r&&(Np(r,e),!Ce()&&r.event==="AddToCart"&&i.push({trigger:y.ADD_TO_CART}),i.push({trigger:y.VIEW,data:{page_id:r.page_id}}))}var Cy=(e,t,o,r)=>{o&&Ty(t,o,e),r&&ky(t,r,e)};function za(){if(!w()){let e=kp(),t=Cp();if(e||t){let o=Image;Image=function(...n){let a=new o(...n);return xy.forEach(u=>h.addListener(a,u,f=>{Cy(a,f,e,t)})),a}}}}function qr(e={},t=()=>{}){_n(e,async()=>{try{if(i.SITE_NAME=p,Cs(),qn(),i.coreStarted){i.push({trigger:y.REFRESH});return}i.coreStarted=!0,Gn(),nc(e.param_transforms),yc(),await Ya(e),Xa(),za(),uc(),t()}catch(o){i.error(o)}})}function Qa(e,...t){return new Promise(o=>{h.setTimeout(o,e,[...t])}).catch(o=>i.error(o))}async function Za(e,t=10,o=300,r=!1){let n=t,a=o,u;do try{return await e()}catch(f){n-=1,n&&(await Qa(a),a=r?a*2:a,u=f)}while(n);throw u}async function Ny(e,t,o,r){try{let a=(await t.json()).data,u=JSON.parse(atob(a));typeof o=="function"&&(o(u),o(e)),qr(u,r)}catch(n){i.error(n)}}var Oy="https://init.blackcrow.ai/",Ry="https://shopify-init.blackcrow.ai/";async function es(e,t,o){let r="codecademy.js"?.replace(".js",""),n=m;n?.includes("init.blackcrow.ai")||(n=Ce()?Ry:Oy,i.error(new C(`codecademy.js is not hosted on the blackcrow CDN but on ${m}.`)));let a=`${n}config/${r}.json`;try{let u=await Za(async()=>Io(U,`${n}config/${r}.json`,{method:"GET"}),8,10,!0);Ny(e,u,t,o)}catch{i.error(new Error(`Failed to fetch config from CDN - ${a}`)),qr(e,o)}}es(l);})();
}catch(e){try{e.message=e.name+':'+e.message;e.name='ParseError';if(blackcrow&&blackcrow.BUILD_NUMBER==='DEV')(blackcrow.error||console.error||console.log)(e);else(blackcrow&&blackcrow.error&&blackcrow.error(e));}catch(_){}}})();
